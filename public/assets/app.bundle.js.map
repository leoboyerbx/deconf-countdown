{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/countdown/countdown.js","webpack:///./node_modules/granim/index.js","webpack:///./node_modules/granim/lib/Granim.js","webpack:///./node_modules/granim/lib/animateColors.js","webpack:///./node_modules/granim/lib/changeBlendingMode.js","webpack:///./node_modules/granim/lib/changeDirection.js","webpack:///./node_modules/granim/lib/changeState.js","webpack:///./node_modules/granim/lib/clear.js","webpack:///./node_modules/granim/lib/convertColorToRgba.js","webpack:///./node_modules/granim/lib/destroy.js","webpack:///./node_modules/granim/lib/eventPolyfill.js","webpack:///./node_modules/granim/lib/getColor.js","webpack:///./node_modules/granim/lib/getColorDiff.js","webpack:///./node_modules/granim/lib/getColorPos.js","webpack:///./node_modules/granim/lib/getColorPosDiff.js","webpack:///./node_modules/granim/lib/getCurrentColors.js","webpack:///./node_modules/granim/lib/getCurrentColorsPos.js","webpack:///./node_modules/granim/lib/getDimensions.js","webpack:///./node_modules/granim/lib/getElement.js","webpack:///./node_modules/granim/lib/getLightness.js","webpack:///./node_modules/granim/lib/makeGradient.js","webpack:///./node_modules/granim/lib/onResize.js","webpack:///./node_modules/granim/lib/onScroll.js","webpack:///./node_modules/granim/lib/pause.js","webpack:///./node_modules/granim/lib/pauseWhenNotInView.js","webpack:///./node_modules/granim/lib/play.js","webpack:///./node_modules/granim/lib/prepareImage.js","webpack:///./node_modules/granim/lib/refreshColorsAndPos.js","webpack:///./node_modules/granim/lib/setColors.js","webpack:///./node_modules/granim/lib/setDirection.js","webpack:///./node_modules/granim/lib/setSizeAttributes.js","webpack:///./node_modules/granim/lib/triggerError.js","webpack:///./node_modules/granim/lib/validateInput.js","webpack:///./assets/js/modules/CountdownNumber.js","webpack:///./assets/js/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ceil","Math","floor","borrowMonths","ref","shift","prevTime","getTime","setMonth","getMonth","round","HOURS_PER_DAY","daysPerMonth","a","b","Date","addToDate","ts","date","isFinite","setTime","milliseconds","setMilliseconds","getMilliseconds","seconds","setSeconds","getSeconds","minutes","setMinutes","getMinutes","hours","setHours","getHours","weeks","days","setDate","getDate","months","millennia","centuries","decades","years","setFullYear","getFullYear","LABELS_SINGLUAR","LABELS_PLURAL","LABEL_LAST","LABEL_DELIM","LABEL_NOW","formatter","formatNumber","formatList","plurality","unit","Timespan","fraction","frac","fromUnit","toUnit","conversion","digits","toFixed","isNaN","refMonth","rippleRounded","fractional","Error","populate","start","end","units","max","now","tmp","x","ripple","count","pruneUnits","countdown","callback","YEARS","NaN","startTS","endTS","timerId","delay","MILLISECONDS_PER_SECOND","getDelay","fn","setInterval","toString","emptyLabel","label","this","length","last","pop","join","toHTML","tag","addTo","list","push","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","WEEKS","MONTHS","DECADES","CENTURIES","MILLENNIA","DEFAULTS","ALL","setFormat","format","singular","split","plural","delim","empty","resetFormat","setLabels","resetLabels","window","define","amd","Granim","options","getElement","element","x1","y1","elToSetClassOn","direction","customDirection","validateInput","isPausedWhenNotInView","states","stateTransitionSpeed","previousTimeStamp","progress","isPaused","isCleared","isPausedBecauseNotInView","context","canvas","getContext","channels","channelsIndex","activeState","defaultStateName","isChangingState","currentColors","currentColorsPos","activetransitionSpeed","eventPolyfill","scrollDebounceThreshold","scrollDebounceTimeout","isImgLoaded","isCanvasInWindowView","firstScrollInit","animating","gradientLength","gradients","image","source","position","stretchMode","blendingMode","events","CustomEvent","gradientChange","details","detail","isLooping","colorsFrom","colorsTo","bubbles","cancelable","callbacks","onStart","onGradientChange","onEnd","getDimensions","setAttribute","setColors","prepareImage","pauseWhenNotInViewNameSpace","pauseWhenNotInView","setSizeAttributesNameSpace","setSizeAttributes","onResize","onScroll","refreshColorsAndPos","animation","requestAnimationFrame","animateColors","dispatchEvent","changeBlendingMode","changeDirection","changeState","clear","convertColorToRgba","destroy","getColor","getColorDiff","getColorPos","getColorPosDiff","getCurrentColors","getCurrentColorsPos","getLightness","makeGradient","pause","play","setDirection","triggerError","timestamp","progressPercent","nextGradient","wasWindowIdled","isLoop","undefined","loop","transitionSpeed","cancelAnimationFrame","newBlendingMode","clearRect","globalCompositeOperation","newDirection","newState","_this","activeColorsDiff","activeColorsPosDiff","activeColors","activeColorsPos","forEach","gradientColor","arr","nextColors","nextColorsPos","colorDiff","colorPosDiff","match","regex","hexa","rgba","rgb","hsla","hsl","hue2rgb","q","hslaToRgb","h","g","color","colorTypes","keys","exec","identifyColorType","hex","replace","result","parseInt","hexToRgba","parseFloat","event","params","evt","document","createEvent","initCustomEvent","Event","colorA","colorB","pos","posA","posB","j","offsetWidth","offsetHeight","HTMLCanvasElement","querySelector","lightnessAverage","gradientAverage","colorsAverage","map","el","gradient","elToSetClassOnClass","classList","drawImage","imageNode","imagePosition","y","width","height","addColorStop","remove","add","fillStyle","fillRect","type","addEventListener","removeEventListener","state","clearTimeout","setTimeout","elPos","getBoundingClientRect","bottom","right","left","innerWidth","top","innerHeight","setImagePosition","setImageAxisPosition","axis","imageAxisPosition","canvasWidthOrHeight","imgOriginalWidthOrHeight","imageAlignIndex","Image","onerror","onload","imgOriginalWidth","imgOriginalHeight","src","activeChannel","activeChannelPos","colors","colorsDiff","colorsPos","colorsPosDiff","colorPos","rgbaColor","isCurrentColorsSet","getCustomCoordinateInPixels","coordinate","size","indexOf","ctx","createLinearGradient","createRadialGradient","x0","y0","inputType","stretchModeValues","Array","isArray","array","definedInPixelsOrPercentage","splittedValue","filter","test","areDefinedInPixelsOrPercentage","maxVal","previousValue","innerText","$","data","year","month","day","hour","minute","fetch","then","res","json","daysNumber","hoursNumber","minutesNumber","secondsNumber","onUpdateCounter","timespan","index","setValue","background","morning","afternoon","evening","night","currentHour","gradientClass"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/*global window */\n/**\n * @license countdown.js v2.6.0 http://countdownjs.org\n * Copyright (c)2006-2014 Stephen M. McKamey.\n * Licensed under The MIT License.\n */\n/*jshint bitwise:false */\n\n/**\n * @public\n * @type {Object|null}\n */\nvar module;\n\n/**\n * API entry\n * @public\n * @param {function(Object)|Date|number} start the starting date\n * @param {function(Object)|Date|number} end the ending date\n * @param {number} units the units to populate\n * @return {Object|number}\n */\nvar countdown = (\n\n/**\n * @param {Object} module CommonJS Module\n */\nfunction(module) {\n\t/*jshint smarttabs:true */\n\n\t'use strict';\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLISECONDS\t= 0x001;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar SECONDS\t\t\t= 0x002;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MINUTES\t\t\t= 0x004;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar HOURS\t\t\t= 0x008;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DAYS\t\t\t= 0x010;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar WEEKS\t\t\t= 0x020;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MONTHS\t\t\t= 0x040;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar YEARS\t\t\t= 0x080;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DECADES\t\t\t= 0x100;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar CENTURIES\t\t= 0x200;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLENNIA\t\t= 0x400;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DEFAULTS\t\t= YEARS|MONTHS|DAYS|HOURS|MINUTES|SECONDS;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLISECONDS_PER_SECOND = 1000;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar SECONDS_PER_MINUTE = 60;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MINUTES_PER_HOUR = 60;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar HOURS_PER_DAY = 24;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLISECONDS_PER_DAY = HOURS_PER_DAY * MINUTES_PER_HOUR * SECONDS_PER_MINUTE * MILLISECONDS_PER_SECOND;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DAYS_PER_WEEK = 7;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MONTHS_PER_YEAR = 12;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar YEARS_PER_DECADE = 10;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DECADES_PER_CENTURY = 10;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar CENTURIES_PER_MILLENNIUM = 10;\n\n\t/**\n\t * @private\n\t * @param {number} x number\n\t * @return {number}\n\t */\n\tvar ceil = Math.ceil;\n\n\t/**\n\t * @private\n\t * @param {number} x number\n\t * @return {number}\n\t */\n\tvar floor = Math.floor;\n\n\t/**\n\t * @private\n\t * @param {Date} ref reference date\n\t * @param {number} shift number of months to shift\n\t * @return {number} number of days shifted\n\t */\n\tfunction borrowMonths(ref, shift) {\n\t\tvar prevTime = ref.getTime();\n\n\t\t// increment month by shift\n\t\tref.setMonth( ref.getMonth() + shift );\n\n\t\t// this is the trickiest since months vary in length\n\t\treturn Math.round( (ref.getTime() - prevTime) / MILLISECONDS_PER_DAY );\n\t}\n\n\t/**\n\t * @private\n\t * @param {Date} ref reference date\n\t * @return {number} number of days\n\t */\n\tfunction daysPerMonth(ref) {\n\t\tvar a = ref.getTime();\n\n\t\t// increment month by 1\n\t\tvar b = new Date(a);\n\t\tb.setMonth( ref.getMonth() + 1 );\n\n\t\t// this is the trickiest since months vary in length\n\t\treturn Math.round( (b.getTime() - a) / MILLISECONDS_PER_DAY );\n\t}\n\n\t/**\n\t * @private\n\t * @param {Date} ref reference date\n\t * @return {number} number of days\n\t */\n\tfunction daysPerYear(ref) {\n\t\tvar a = ref.getTime();\n\n\t\t// increment year by 1\n\t\tvar b = new Date(a);\n\t\tb.setFullYear( ref.getFullYear() + 1 );\n\n\t\t// this is the trickiest since years (periodically) vary in length\n\t\treturn Math.round( (b.getTime() - a) / MILLISECONDS_PER_DAY );\n\t}\n\n\t/**\n\t * Applies the Timespan to the given date.\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {Date=} date\n\t * @return {Date}\n\t */\n\tfunction addToDate(ts, date) {\n\t\tdate = (date instanceof Date) || ((date !== null) && isFinite(date)) ? new Date(+date) : new Date();\n\t\tif (!ts) {\n\t\t\treturn date;\n\t\t}\n\n\t\t// if there is a value field, use it directly\n\t\tvar value = +ts.value || 0;\n\t\tif (value) {\n\t\t\tdate.setTime(date.getTime() + value);\n\t\t\treturn date;\n\t\t}\n\n\t\tvalue = +ts.milliseconds || 0;\n\t\tif (value) {\n\t\t\tdate.setMilliseconds(date.getMilliseconds() + value);\n\t\t}\n\n\t\tvalue = +ts.seconds || 0;\n\t\tif (value) {\n\t\t\tdate.setSeconds(date.getSeconds() + value);\n\t\t}\n\n\t\tvalue = +ts.minutes || 0;\n\t\tif (value) {\n\t\t\tdate.setMinutes(date.getMinutes() + value);\n\t\t}\n\n\t\tvalue = +ts.hours || 0;\n\t\tif (value) {\n\t\t\tdate.setHours(date.getHours() + value);\n\t\t}\n\n\t\tvalue = +ts.weeks || 0;\n\t\tif (value) {\n\t\t\tvalue *= DAYS_PER_WEEK;\n\t\t}\n\n\t\tvalue += +ts.days || 0;\n\t\tif (value) {\n\t\t\tdate.setDate(date.getDate() + value);\n\t\t}\n\n\t\tvalue = +ts.months || 0;\n\t\tif (value) {\n\t\t\tdate.setMonth(date.getMonth() + value);\n\t\t}\n\n\t\tvalue = +ts.millennia || 0;\n\t\tif (value) {\n\t\t\tvalue *= CENTURIES_PER_MILLENNIUM;\n\t\t}\n\n\t\tvalue += +ts.centuries || 0;\n\t\tif (value) {\n\t\t\tvalue *= DECADES_PER_CENTURY;\n\t\t}\n\n\t\tvalue += +ts.decades || 0;\n\t\tif (value) {\n\t\t\tvalue *= YEARS_PER_DECADE;\n\t\t}\n\n\t\tvalue += +ts.years || 0;\n\t\tif (value) {\n\t\t\tdate.setFullYear(date.getFullYear() + value);\n\t\t}\n\n\t\treturn date;\n\t}\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MILLISECONDS\t= 0;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_SECONDS\t\t= 1;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MINUTES\t\t= 2;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_HOURS\t\t\t= 3;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_DAYS\t\t\t= 4;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_WEEKS\t\t\t= 5;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MONTHS\t\t= 6;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_YEARS\t\t\t= 7;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_DECADES\t\t= 8;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_CENTURIES\t\t= 9;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MILLENNIA\t\t= 10;\n\n\t/**\n\t * @private\n\t * @type {Array}\n\t */\n\tvar LABELS_SINGLUAR;\n\n\t/**\n\t * @private\n\t * @type {Array}\n\t */\n\tvar LABELS_PLURAL;\n\n\t/**\n\t * @private\n\t * @type {string}\n\t */\n\tvar LABEL_LAST;\n\n\t/**\n\t * @private\n\t * @type {string}\n\t */\n\tvar LABEL_DELIM;\n\n\t/**\n\t * @private\n\t * @type {string}\n\t */\n\tvar LABEL_NOW;\n\n\t/**\n\t * Formats a number & unit as a string\n\t * \n\t * @param {number} value\n\t * @param {number} unit\n\t * @return {string}\n\t */\n\tvar formatter;\n\n\t/**\n\t * Formats a number as a string\n\t * \n\t * @private\n\t * @param {number} value\n\t * @return {string}\n\t */\n\tvar formatNumber;\n\n\t/**\n\t * @private\n\t * @param {number} value\n\t * @param {number} unit unit index into label list\n\t * @return {string}\n\t */\n\tfunction plurality(value, unit) {\n\t\treturn formatNumber(value)+((value === 1) ? LABELS_SINGLUAR[unit] : LABELS_PLURAL[unit]);\n\t}\n\n\t/**\n\t * Formats the entries with singular or plural labels\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @return {Array}\n\t */\n\tvar formatList;\n\n\t/**\n\t * Timespan representation of a duration of time\n\t * \n\t * @private\n\t * @this {Timespan}\n\t * @constructor\n\t */\n\tfunction Timespan() {}\n\n\t/**\n\t * Formats the Timespan as a sentence\n\t * \n\t * @param {string=} emptyLabel the string to use when no values returned\n\t * @return {string}\n\t */\n\tTimespan.prototype.toString = function(emptyLabel) {\n\t\tvar label = formatList(this);\n\n\t\tvar count = label.length;\n\t\tif (!count) {\n\t\t\treturn emptyLabel ? ''+emptyLabel : LABEL_NOW;\n\t\t}\n\t\tif (count === 1) {\n\t\t\treturn label[0];\n\t\t}\n\n\t\tvar last = LABEL_LAST+label.pop();\n\t\treturn label.join(LABEL_DELIM)+last;\n\t};\n\n\t/**\n\t * Formats the Timespan as a sentence in HTML\n\t * \n\t * @param {string=} tag HTML tag name to wrap each value\n\t * @param {string=} emptyLabel the string to use when no values returned\n\t * @return {string}\n\t */\n\tTimespan.prototype.toHTML = function(tag, emptyLabel) {\n\t\ttag = tag || 'span';\n\t\tvar label = formatList(this);\n\n\t\tvar count = label.length;\n\t\tif (!count) {\n\t\t\temptyLabel = emptyLabel || LABEL_NOW;\n\t\t\treturn emptyLabel ? '<'+tag+'>'+emptyLabel+'</'+tag+'>' : emptyLabel;\n\t\t}\n\t\tfor (var i=0; i<count; i++) {\n\t\t\t// wrap each unit in tag\n\t\t\tlabel[i] = '<'+tag+'>'+label[i]+'</'+tag+'>';\n\t\t}\n\t\tif (count === 1) {\n\t\t\treturn label[0];\n\t\t}\n\n\t\tvar last = LABEL_LAST+label.pop();\n\t\treturn label.join(LABEL_DELIM)+last;\n\t};\n\n\t/**\n\t * Applies the Timespan to the given date\n\t * \n\t * @param {Date=} date the date to which the timespan is added.\n\t * @return {Date}\n\t */\n\tTimespan.prototype.addTo = function(date) {\n\t\treturn addToDate(this, date);\n\t};\n\n\t/**\n\t * Formats the entries as English labels\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @return {Array}\n\t */\n\tformatList = function(ts) {\n\t\tvar list = [];\n\n\t\tvar value = ts.millennia;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MILLENNIA));\n\t\t}\n\n\t\tvalue = ts.centuries;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_CENTURIES));\n\t\t}\n\n\t\tvalue = ts.decades;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_DECADES));\n\t\t}\n\n\t\tvalue = ts.years;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_YEARS));\n\t\t}\n\n\t\tvalue = ts.months;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MONTHS));\n\t\t}\n\n\t\tvalue = ts.weeks;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_WEEKS));\n\t\t}\n\n\t\tvalue = ts.days;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_DAYS));\n\t\t}\n\n\t\tvalue = ts.hours;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_HOURS));\n\t\t}\n\n\t\tvalue = ts.minutes;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MINUTES));\n\t\t}\n\n\t\tvalue = ts.seconds;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_SECONDS));\n\t\t}\n\n\t\tvalue = ts.milliseconds;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MILLISECONDS));\n\t\t}\n\n\t\treturn list;\n\t};\n\n\t/**\n\t * Borrow any underflow units, carry any overflow units\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {string} toUnit\n\t */\n\tfunction rippleRounded(ts, toUnit) {\n\t\tswitch (toUnit) {\n\t\t\tcase 'seconds':\n\t\t\t\tif (ts.seconds !== SECONDS_PER_MINUTE || isNaN(ts.minutes)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple seconds up to minutes\n\t\t\t\tts.minutes++;\n\t\t\t\tts.seconds = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'minutes':\n\t\t\t\tif (ts.minutes !== MINUTES_PER_HOUR || isNaN(ts.hours)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple minutes up to hours\n\t\t\t\tts.hours++;\n\t\t\t\tts.minutes = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'hours':\n\t\t\t\tif (ts.hours !== HOURS_PER_DAY || isNaN(ts.days)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple hours up to days\n\t\t\t\tts.days++;\n\t\t\t\tts.hours = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'days':\n\t\t\t\tif (ts.days !== DAYS_PER_WEEK || isNaN(ts.weeks)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple days up to weeks\n\t\t\t\tts.weeks++;\n\t\t\t\tts.days = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'weeks':\n\t\t\t\tif (ts.weeks !== daysPerMonth(ts.refMonth)/DAYS_PER_WEEK || isNaN(ts.months)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple weeks up to months\n\t\t\t\tts.months++;\n\t\t\t\tts.weeks = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'months':\n\t\t\t\tif (ts.months !== MONTHS_PER_YEAR || isNaN(ts.years)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple months up to years\n\t\t\t\tts.years++;\n\t\t\t\tts.months = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'years':\n\t\t\t\tif (ts.years !== YEARS_PER_DECADE || isNaN(ts.decades)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple years up to decades\n\t\t\t\tts.decades++;\n\t\t\t\tts.years = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'decades':\n\t\t\t\tif (ts.decades !== DECADES_PER_CENTURY || isNaN(ts.centuries)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple decades up to centuries\n\t\t\t\tts.centuries++;\n\t\t\t\tts.decades = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'centuries':\n\t\t\t\tif (ts.centuries !== CENTURIES_PER_MILLENNIUM || isNaN(ts.millennia)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple centuries up to millennia\n\t\t\t\tts.millennia++;\n\t\t\t\tts.centuries = 0;\n\t\t\t\t/* falls through */\n\t\t\t}\n\t}\n\n\t/**\n\t * Ripple up partial units one place\n\t * \n\t * @private\n\t * @param {Timespan} ts timespan\n\t * @param {number} frac accumulated fractional value\n\t * @param {string} fromUnit source unit name\n\t * @param {string} toUnit target unit name\n\t * @param {number} conversion multiplier between units\n\t * @param {number} digits max number of decimal digits to output\n\t * @return {number} new fractional value\n\t */\n\tfunction fraction(ts, frac, fromUnit, toUnit, conversion, digits) {\n\t\tif (ts[fromUnit] >= 0) {\n\t\t\tfrac += ts[fromUnit];\n\t\t\tdelete ts[fromUnit];\n\t\t}\n\n\t\tfrac /= conversion;\n\t\tif (frac + 1 <= 1) {\n\t\t\t// drop if below machine epsilon\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (ts[toUnit] >= 0) {\n\t\t\t// ensure does not have more than specified number of digits\n\t\t\tts[toUnit] = +(ts[toUnit] + frac).toFixed(digits);\n\t\t\trippleRounded(ts, toUnit);\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn frac;\n\t}\n\n\t/**\n\t * Ripple up partial units to next existing\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {number} digits max number of decimal digits to output\n\t */\n\tfunction fractional(ts, digits) {\n\t\tvar frac = fraction(ts, 0, 'milliseconds', 'seconds', MILLISECONDS_PER_SECOND, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'seconds', 'minutes', SECONDS_PER_MINUTE, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'minutes', 'hours', MINUTES_PER_HOUR, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'hours', 'days', HOURS_PER_DAY, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'days', 'weeks', DAYS_PER_WEEK, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'weeks', 'months', daysPerMonth(ts.refMonth)/DAYS_PER_WEEK, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'months', 'years', daysPerYear(ts.refMonth)/daysPerMonth(ts.refMonth), digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'years', 'decades', YEARS_PER_DECADE, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'decades', 'centuries', DECADES_PER_CENTURY, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'centuries', 'millennia', CENTURIES_PER_MILLENNIUM, digits);\n\n\t\t// should never reach this with remaining fractional value\n\t\tif (frac) { throw new Error('Fractional unit overflow'); }\n\t}\n\n\t/**\n\t * Borrow any underflow units, carry any overflow units\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t */\n\tfunction ripple(ts) {\n\t\tvar x;\n\n\t\tif (ts.milliseconds < 0) {\n\t\t\t// ripple seconds down to milliseconds\n\t\t\tx = ceil(-ts.milliseconds / MILLISECONDS_PER_SECOND);\n\t\t\tts.seconds -= x;\n\t\t\tts.milliseconds += x * MILLISECONDS_PER_SECOND;\n\n\t\t} else if (ts.milliseconds >= MILLISECONDS_PER_SECOND) {\n\t\t\t// ripple milliseconds up to seconds\n\t\t\tts.seconds += floor(ts.milliseconds / MILLISECONDS_PER_SECOND);\n\t\t\tts.milliseconds %= MILLISECONDS_PER_SECOND;\n\t\t}\n\n\t\tif (ts.seconds < 0) {\n\t\t\t// ripple minutes down to seconds\n\t\t\tx = ceil(-ts.seconds / SECONDS_PER_MINUTE);\n\t\t\tts.minutes -= x;\n\t\t\tts.seconds += x * SECONDS_PER_MINUTE;\n\n\t\t} else if (ts.seconds >= SECONDS_PER_MINUTE) {\n\t\t\t// ripple seconds up to minutes\n\t\t\tts.minutes += floor(ts.seconds / SECONDS_PER_MINUTE);\n\t\t\tts.seconds %= SECONDS_PER_MINUTE;\n\t\t}\n\n\t\tif (ts.minutes < 0) {\n\t\t\t// ripple hours down to minutes\n\t\t\tx = ceil(-ts.minutes / MINUTES_PER_HOUR);\n\t\t\tts.hours -= x;\n\t\t\tts.minutes += x * MINUTES_PER_HOUR;\n\n\t\t} else if (ts.minutes >= MINUTES_PER_HOUR) {\n\t\t\t// ripple minutes up to hours\n\t\t\tts.hours += floor(ts.minutes / MINUTES_PER_HOUR);\n\t\t\tts.minutes %= MINUTES_PER_HOUR;\n\t\t}\n\n\t\tif (ts.hours < 0) {\n\t\t\t// ripple days down to hours\n\t\t\tx = ceil(-ts.hours / HOURS_PER_DAY);\n\t\t\tts.days -= x;\n\t\t\tts.hours += x * HOURS_PER_DAY;\n\n\t\t} else if (ts.hours >= HOURS_PER_DAY) {\n\t\t\t// ripple hours up to days\n\t\t\tts.days += floor(ts.hours / HOURS_PER_DAY);\n\t\t\tts.hours %= HOURS_PER_DAY;\n\t\t}\n\n\t\twhile (ts.days < 0) {\n\t\t\t// NOTE: never actually seen this loop more than once\n\n\t\t\t// ripple months down to days\n\t\t\tts.months--;\n\t\t\tts.days += borrowMonths(ts.refMonth, 1);\n\t\t}\n\n\t\t// weeks is always zero here\n\n\t\tif (ts.days >= DAYS_PER_WEEK) {\n\t\t\t// ripple days up to weeks\n\t\t\tts.weeks += floor(ts.days / DAYS_PER_WEEK);\n\t\t\tts.days %= DAYS_PER_WEEK;\n\t\t}\n\n\t\tif (ts.months < 0) {\n\t\t\t// ripple years down to months\n\t\t\tx = ceil(-ts.months / MONTHS_PER_YEAR);\n\t\t\tts.years -= x;\n\t\t\tts.months += x * MONTHS_PER_YEAR;\n\n\t\t} else if (ts.months >= MONTHS_PER_YEAR) {\n\t\t\t// ripple months up to years\n\t\t\tts.years += floor(ts.months / MONTHS_PER_YEAR);\n\t\t\tts.months %= MONTHS_PER_YEAR;\n\t\t}\n\n\t\t// years is always non-negative here\n\t\t// decades, centuries and millennia are always zero here\n\n\t\tif (ts.years >= YEARS_PER_DECADE) {\n\t\t\t// ripple years up to decades\n\t\t\tts.decades += floor(ts.years / YEARS_PER_DECADE);\n\t\t\tts.years %= YEARS_PER_DECADE;\n\n\t\t\tif (ts.decades >= DECADES_PER_CENTURY) {\n\t\t\t\t// ripple decades up to centuries\n\t\t\t\tts.centuries += floor(ts.decades / DECADES_PER_CENTURY);\n\t\t\t\tts.decades %= DECADES_PER_CENTURY;\n\n\t\t\t\tif (ts.centuries >= CENTURIES_PER_MILLENNIUM) {\n\t\t\t\t\t// ripple centuries up to millennia\n\t\t\t\t\tts.millennia += floor(ts.centuries / CENTURIES_PER_MILLENNIUM);\n\t\t\t\t\tts.centuries %= CENTURIES_PER_MILLENNIUM;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Remove any units not requested\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {number} units the units to populate\n\t * @param {number} max number of labels to output\n\t * @param {number} digits max number of decimal digits to output\n\t */\n\tfunction pruneUnits(ts, units, max, digits) {\n\t\tvar count = 0;\n\n\t\t// Calc from largest unit to smallest to prevent underflow\n\t\tif (!(units & MILLENNIA) || (count >= max)) {\n\t\t\t// ripple millennia down to centuries\n\t\t\tts.centuries += ts.millennia * CENTURIES_PER_MILLENNIUM;\n\t\t\tdelete ts.millennia;\n\n\t\t} else if (ts.millennia) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & CENTURIES) || (count >= max)) {\n\t\t\t// ripple centuries down to decades\n\t\t\tts.decades += ts.centuries * DECADES_PER_CENTURY;\n\t\t\tdelete ts.centuries;\n\n\t\t} else if (ts.centuries) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & DECADES) || (count >= max)) {\n\t\t\t// ripple decades down to years\n\t\t\tts.years += ts.decades * YEARS_PER_DECADE;\n\t\t\tdelete ts.decades;\n\n\t\t} else if (ts.decades) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & YEARS) || (count >= max)) {\n\t\t\t// ripple years down to months\n\t\t\tts.months += ts.years * MONTHS_PER_YEAR;\n\t\t\tdelete ts.years;\n\n\t\t} else if (ts.years) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & MONTHS) || (count >= max)) {\n\t\t\t// ripple months down to days\n\t\t\tif (ts.months) {\n\t\t\t\tts.days += borrowMonths(ts.refMonth, ts.months);\n\t\t\t}\n\t\t\tdelete ts.months;\n\n\t\t\tif (ts.days >= DAYS_PER_WEEK) {\n\t\t\t\t// ripple day overflow back up to weeks\n\t\t\t\tts.weeks += floor(ts.days / DAYS_PER_WEEK);\n\t\t\t\tts.days %= DAYS_PER_WEEK;\n\t\t\t}\n\n\t\t} else if (ts.months) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & WEEKS) || (count >= max)) {\n\t\t\t// ripple weeks down to days\n\t\t\tts.days += ts.weeks * DAYS_PER_WEEK;\n\t\t\tdelete ts.weeks;\n\n\t\t} else if (ts.weeks) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & DAYS) || (count >= max)) {\n\t\t\t//ripple days down to hours\n\t\t\tts.hours += ts.days * HOURS_PER_DAY;\n\t\t\tdelete ts.days;\n\n\t\t} else if (ts.days) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & HOURS) || (count >= max)) {\n\t\t\t// ripple hours down to minutes\n\t\t\tts.minutes += ts.hours * MINUTES_PER_HOUR;\n\t\t\tdelete ts.hours;\n\n\t\t} else if (ts.hours) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & MINUTES) || (count >= max)) {\n\t\t\t// ripple minutes down to seconds\n\t\t\tts.seconds += ts.minutes * SECONDS_PER_MINUTE;\n\t\t\tdelete ts.minutes;\n\n\t\t} else if (ts.minutes) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & SECONDS) || (count >= max)) {\n\t\t\t// ripple seconds down to milliseconds\n\t\t\tts.milliseconds += ts.seconds * MILLISECONDS_PER_SECOND;\n\t\t\tdelete ts.seconds;\n\n\t\t} else if (ts.seconds) {\n\t\t\tcount++;\n\t\t}\n\n\t\t// nothing to ripple milliseconds down to\n\t\t// so ripple back up to smallest existing unit as a fractional value\n\t\tif (!(units & MILLISECONDS) || (count >= max)) {\n\t\t\tfractional(ts, digits);\n\t\t}\n\t}\n\n\t/**\n\t * Populates the Timespan object\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {?Date} start the starting date\n\t * @param {?Date} end the ending date\n\t * @param {number} units the units to populate\n\t * @param {number} max number of labels to output\n\t * @param {number} digits max number of decimal digits to output\n\t */\n\tfunction populate(ts, start, end, units, max, digits) {\n\t\tvar now = new Date();\n\n\t\tts.start = start = start || now;\n\t\tts.end = end = end || now;\n\t\tts.units = units;\n\n\t\tts.value = end.getTime() - start.getTime();\n\t\tif (ts.value < 0) {\n\t\t\t// swap if reversed\n\t\t\tvar tmp = end;\n\t\t\tend = start;\n\t\t\tstart = tmp;\n\t\t}\n\n\t\t// reference month for determining days in month\n\t\tts.refMonth = new Date(start.getFullYear(), start.getMonth(), 15, 12, 0, 0);\n\t\ttry {\n\t\t\t// reset to initial deltas\n\t\t\tts.millennia = 0;\n\t\t\tts.centuries = 0;\n\t\t\tts.decades = 0;\n\t\t\tts.years = end.getFullYear() - start.getFullYear();\n\t\t\tts.months = end.getMonth() - start.getMonth();\n\t\t\tts.weeks = 0;\n\t\t\tts.days = end.getDate() - start.getDate();\n\t\t\tts.hours = end.getHours() - start.getHours();\n\t\t\tts.minutes = end.getMinutes() - start.getMinutes();\n\t\t\tts.seconds = end.getSeconds() - start.getSeconds();\n\t\t\tts.milliseconds = end.getMilliseconds() - start.getMilliseconds();\n\n\t\t\tripple(ts);\n\t\t\tpruneUnits(ts, units, max, digits);\n\n\t\t} finally {\n\t\t\tdelete ts.refMonth;\n\t\t}\n\n\t\treturn ts;\n\t}\n\n\t/**\n\t * Determine an appropriate refresh rate based upon units\n\t * \n\t * @private\n\t * @param {number} units the units to populate\n\t * @return {number} milliseconds to delay\n\t */\n\tfunction getDelay(units) {\n\t\tif (units & MILLISECONDS) {\n\t\t\t// refresh very quickly\n\t\t\treturn MILLISECONDS_PER_SECOND / 30; //30Hz\n\t\t}\n\n\t\tif (units & SECONDS) {\n\t\t\t// refresh every second\n\t\t\treturn MILLISECONDS_PER_SECOND; //1Hz\n\t\t}\n\n\t\tif (units & MINUTES) {\n\t\t\t// refresh every minute\n\t\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE;\n\t\t}\n\n\t\tif (units & HOURS) {\n\t\t\t// refresh hourly\n\t\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE * MINUTES_PER_HOUR;\n\t\t}\n\t\t\n\t\tif (units & DAYS) {\n\t\t\t// refresh daily\n\t\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE * MINUTES_PER_HOUR * HOURS_PER_DAY;\n\t\t}\n\n\t\t// refresh the rest weekly\n\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE * MINUTES_PER_HOUR * HOURS_PER_DAY * DAYS_PER_WEEK;\n\t}\n\n\t/**\n\t * API entry point\n\t * \n\t * @public\n\t * @param {Date|number|Timespan|null|function(Timespan,number)} start the starting date\n\t * @param {Date|number|Timespan|null|function(Timespan,number)} end the ending date\n\t * @param {number=} units the units to populate\n\t * @param {number=} max number of labels to output\n\t * @param {number=} digits max number of decimal digits to output\n\t * @return {Timespan|number}\n\t */\n\tfunction countdown(start, end, units, max, digits) {\n\t\tvar callback;\n\n\t\t// ensure some units or use defaults\n\t\tunits = +units || DEFAULTS;\n\t\t// max must be positive\n\t\tmax = (max > 0) ? max : NaN;\n\t\t// clamp digits to an integer between [0, 20]\n\t\tdigits = (digits > 0) ? (digits < 20) ? Math.round(digits) : 20 : 0;\n\n\t\t// ensure start date\n\t\tvar startTS = null;\n\t\tif ('function' === typeof start) {\n\t\t\tcallback = start;\n\t\t\tstart = null;\n\n\t\t} else if (!(start instanceof Date)) {\n\t\t\tif ((start !== null) && isFinite(start)) {\n\t\t\t\tstart = new Date(+start);\n\t\t\t} else {\n\t\t\t\tif ('object' === typeof startTS) {\n\t\t\t\t\tstartTS = /** @type{Timespan} */(start);\n\t\t\t\t}\n\t\t\t\tstart = null;\n\t\t\t}\n\t\t}\n\n\t\t// ensure end date\n\t\tvar endTS = null;\n\t\tif ('function' === typeof end) {\n\t\t\tcallback = end;\n\t\t\tend = null;\n\n\t\t} else if (!(end instanceof Date)) {\n\t\t\tif ((end !== null) && isFinite(end)) {\n\t\t\t\tend = new Date(+end);\n\t\t\t} else {\n\t\t\t\tif ('object' === typeof end) {\n\t\t\t\t\tendTS = /** @type{Timespan} */(end);\n\t\t\t\t}\n\t\t\t\tend = null;\n\t\t\t}\n\t\t}\n\n\t\t// must wait to interpret timespans until after resolving dates\n\t\tif (startTS) {\n\t\t\tstart = addToDate(startTS, end);\n\t\t}\n\t\tif (endTS) {\n\t\t\tend = addToDate(endTS, start);\n\t\t}\n\n\t\tif (!start && !end) {\n\t\t\t// used for unit testing\n\t\t\treturn new Timespan();\n\t\t}\n\n\t\tif (!callback) {\n\t\t\treturn populate(new Timespan(), /** @type{Date} */(start), /** @type{Date} */(end), /** @type{number} */(units), /** @type{number} */(max), /** @type{number} */(digits));\n\t\t}\n\n\t\t// base delay off units\n\t\tvar delay = getDelay(units),\n\t\t\ttimerId,\n\t\t\tfn = function() {\n\t\t\t\tcallback(\n\t\t\t\t\tpopulate(new Timespan(), /** @type{Date} */(start), /** @type{Date} */(end), /** @type{number} */(units), /** @type{number} */(max), /** @type{number} */(digits)),\n\t\t\t\t\ttimerId\n\t\t\t\t);\n\t\t\t};\n\n\t\tfn();\n\t\treturn (timerId = setInterval(fn, delay));\n\t}\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MILLISECONDS = MILLISECONDS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.SECONDS = SECONDS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MINUTES = MINUTES;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.HOURS = HOURS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.DAYS = DAYS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.WEEKS = WEEKS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MONTHS = MONTHS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.YEARS = YEARS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.DECADES = DECADES;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.CENTURIES = CENTURIES;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MILLENNIA = MILLENNIA;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.DEFAULTS = DEFAULTS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.ALL = MILLENNIA|CENTURIES|DECADES|YEARS|MONTHS|WEEKS|DAYS|HOURS|MINUTES|SECONDS|MILLISECONDS;\n\n\t/**\n\t * Customize the format settings.\n\t * @public\n\t * @param {Object} format settings object\n\t */\n\tvar setFormat = countdown.setFormat = function(format) {\n\t\tif (!format) { return; }\n\n\t\tif ('singular' in format || 'plural' in format) {\n\t\t\tvar singular = format.singular || [];\n\t\t\tif (singular.split) {\n\t\t\t\tsingular = singular.split('|');\n\t\t\t}\n\t\t\tvar plural = format.plural || [];\n\t\t\tif (plural.split) {\n\t\t\t\tplural = plural.split('|');\n\t\t\t}\n\n\t\t\tfor (var i=LABEL_MILLISECONDS; i<=LABEL_MILLENNIA; i++) {\n\t\t\t\t// override any specified units\n\t\t\t\tLABELS_SINGLUAR[i] = singular[i] || LABELS_SINGLUAR[i];\n\t\t\t\tLABELS_PLURAL[i] = plural[i] || LABELS_PLURAL[i];\n\t\t\t}\n\t\t}\n\n\t\tif ('string' === typeof format.last) {\n\t\t\tLABEL_LAST = format.last;\n\t\t}\n\t\tif ('string' === typeof format.delim) {\n\t\t\tLABEL_DELIM = format.delim;\n\t\t}\n\t\tif ('string' === typeof format.empty) {\n\t\t\tLABEL_NOW = format.empty;\n\t\t}\n\t\tif ('function' === typeof format.formatNumber) {\n\t\t\tformatNumber = format.formatNumber;\n\t\t}\n\t\tif ('function' === typeof format.formatter) {\n\t\t\tformatter = format.formatter;\n\t\t}\n\t};\n\n\t/**\n\t * Revert to the default formatting.\n\t * @public\n\t */\n\tvar resetFormat = countdown.resetFormat = function() {\n\t\tLABELS_SINGLUAR = ' millisecond| second| minute| hour| day| week| month| year| decade| century| millennium'.split('|');\n\t\tLABELS_PLURAL = ' milliseconds| seconds| minutes| hours| days| weeks| months| years| decades| centuries| millennia'.split('|');\n\t\tLABEL_LAST = ' and ';\n\t\tLABEL_DELIM = ', ';\n\t\tLABEL_NOW = '';\n\t\tformatNumber = function(value) { return value; };\n\t\tformatter = plurality;\n\t};\n\n\t/**\n\t * Override the unit labels.\n\t * @public\n\t * @param {string|Array=} singular a pipe ('|') delimited list of singular unit name overrides\n\t * @param {string|Array=} plural a pipe ('|') delimited list of plural unit name overrides\n\t * @param {string=} last a delimiter before the last unit (default: ' and ')\n\t * @param {string=} delim a delimiter to use between all other units (default: ', ')\n\t * @param {string=} empty a label to use when all units are zero (default: '')\n\t * @param {function(number):string=} formatNumber a function which formats numbers as a string\n\t * @param {function(number,number):string=} formatter a function which formats a number/unit pair as a string\n\t * @deprecated since version 2.6.0\n\t */\n\tcountdown.setLabels = function(singular, plural, last, delim, empty, formatNumber, formatter) {\n\t\tsetFormat({\n\t\t\tsingular: singular,\n\t\t\tplural: plural,\n\t\t\tlast: last,\n\t\t\tdelim: delim,\n\t\t\tempty: empty,\n\t\t\tformatNumber: formatNumber,\n\t\t\tformatter: formatter\n\t\t});\n\t};\n\n\t/**\n\t * Revert to the default unit labels.\n\t * @public\n\t * @deprecated since version 2.6.0\n\t */\n\tcountdown.resetLabels = resetFormat;\n\n\tresetFormat();\n\n\tif (module && module.exports) {\n\t\tmodule.exports = countdown;\n\n\t} else if (typeof window.define === 'function' && typeof window.define.amd !== 'undefined') {\n\t\twindow.define('countdown', [], function() {\n\t\t\treturn countdown;\n\t\t});\n\t}\n\n\treturn countdown;\n\n})(module);\n","module.exports = require('./lib/Granim.js');\r\n","'use strict';\r\n\r\nfunction Granim(options) {\r\n\tthis.getElement(options.element);\r\n\tthis.x1 = 0;\r\n\tthis.y1 = 0;\r\n\tthis.name = options.name || false;\r\n\tthis.elToSetClassOn = options.elToSetClassOn || 'body';\r\n\tthis.direction = options.direction || 'diagonal';\r\n\tthis.customDirection = options.customDirection || {};\r\n\tthis.validateInput('direction');\r\n\tthis.isPausedWhenNotInView = options.isPausedWhenNotInView || false;\r\n\tthis.states = options.states;\r\n\tthis.stateTransitionSpeed = options.stateTransitionSpeed || 1000;\r\n\tthis.previousTimeStamp = null;\r\n\tthis.progress = 0;\r\n\tthis.isPaused = false;\r\n\tthis.isCleared = false;\r\n\tthis.isPausedBecauseNotInView = false;\r\n\tthis.context = this.canvas.getContext('2d');\r\n\tthis.channels = {};\r\n\tthis.channelsIndex = 0;\r\n\tthis.activeState = options.defaultStateName || 'default-state';\r\n\tthis.isChangingState = false;\r\n\tthis.currentColors = [];\r\n\tthis.currentColorsPos = [];\r\n\tthis.activetransitionSpeed = null;\r\n\tthis.eventPolyfill();\r\n\tthis.scrollDebounceThreshold = options.scrollDebounceThreshold || 300;\r\n\tthis.scrollDebounceTimeout = null;\r\n\tthis.isImgLoaded = false;\r\n\tthis.isCanvasInWindowView = false;\r\n\tthis.firstScrollInit = true;\r\n\tthis.animating = false;\r\n\tthis.gradientLength = this.states[this.activeState].gradients[0].length;\r\n\tif (options.image && options.image.source) {\r\n\t\tthis.image = {\r\n\t\t\tsource: options.image.source,\r\n\t\t\tposition: options.image.position || ['center', 'center'],\r\n\t\t\tstretchMode: options.image.stretchMode || false,\r\n\t\t\tblendingMode: options.image.blendingMode || false\r\n\t\t};\r\n\t}\r\n\tthis.events = {\r\n\t\tstart: new CustomEvent('granim:start'),\r\n\t\tend: new CustomEvent('granim:end'),\r\n\t\tgradientChange: function(details) {\r\n\t\t\treturn new CustomEvent('granim:gradientChange', {\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\tisLooping: details.isLooping,\r\n\t\t\t\t\tcolorsFrom: details.colorsFrom,\r\n\t\t\t\t\tcolorsTo: details.colorsTo,\r\n\t\t\t\t\tactiveState: details.activeState\r\n\t\t\t\t},\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tthis.callbacks = {\r\n\t\tonStart: typeof options.onStart === 'function' ? options.onStart : false,\r\n\t\tonGradientChange: typeof options.onGradientChange === 'function' ?\r\n\t\t\toptions.onGradientChange :\r\n\t\t\tfalse,\r\n\t\tonEnd: typeof options.onEnd === 'function' ? options.onEnd : false\r\n\t};\r\n\tthis.getDimensions();\r\n\tthis.canvas.setAttribute('width', this.x1);\r\n\tthis.canvas.setAttribute('height', this.y1);\r\n\tthis.setColors();\r\n\r\n\tif (this.image) {\r\n\t\tthis.validateInput('image');\r\n\t\tthis.prepareImage();\r\n\t}\r\n\r\n\tthis.pauseWhenNotInViewNameSpace = this.pauseWhenNotInView.bind(this);\r\n\tthis.setSizeAttributesNameSpace = this.setSizeAttributes.bind(this);\r\n\tthis.onResize();\r\n\r\n\tif (this.isPausedWhenNotInView) {\r\n\t\tthis.onScroll();\r\n\t\t\r\n\t} else {\r\n\t\tif (!this.image) {\r\n\t\t\tthis.refreshColorsAndPos();\r\n\t\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\r\n\t\t\tthis.animating = true;\r\n\t\t}\r\n\t}\r\n\r\n\t// Callback and Event\r\n\tif (this.callbacks.onStart) this.callbacks.onStart();\r\n\tthis.canvas.dispatchEvent(this.events.start);\r\n}\r\n\r\nGranim.prototype.animateColors = require('./animateColors.js');\r\nGranim.prototype.changeBlendingMode = require('./changeBlendingMode.js');\r\nGranim.prototype.changeDirection = require('./changeDirection.js');\r\nGranim.prototype.changeState = require('./changeState.js');\r\nGranim.prototype.clear = require('./clear.js');\r\nGranim.prototype.convertColorToRgba = require('./convertColorToRgba.js');\r\nGranim.prototype.destroy = require('./destroy.js');\r\nGranim.prototype.eventPolyfill = require('./eventPolyfill.js');\r\nGranim.prototype.getColor = require('./getColor.js');\r\nGranim.prototype.getColorDiff = require('./getColorDiff.js');\r\nGranim.prototype.getColorPos = require('./getColorPos.js');\r\nGranim.prototype.getColorPosDiff = require('./getColorPosDiff.js');\r\nGranim.prototype.getCurrentColors = require('./getCurrentColors.js');\r\nGranim.prototype.getCurrentColorsPos = require('./getCurrentColorsPos.js');\r\nGranim.prototype.getDimensions = require('./getDimensions.js');\r\nGranim.prototype.getElement = require('./getElement.js');\r\nGranim.prototype.getLightness = require('./getLightness.js');\r\nGranim.prototype.makeGradient = require('./makeGradient.js');\r\nGranim.prototype.onResize = require('./onResize.js');\r\nGranim.prototype.onScroll = require('./onScroll.js');\r\nGranim.prototype.pause = require('./pause.js');\r\nGranim.prototype.pauseWhenNotInView = require('./pauseWhenNotInView.js');\r\nGranim.prototype.play = require('./play.js');\r\nGranim.prototype.prepareImage = require('./prepareImage.js');\r\nGranim.prototype.refreshColorsAndPos = require('./refreshColorsAndPos.js');\r\nGranim.prototype.setColors = require('./setColors.js');\r\nGranim.prototype.setDirection = require('./setDirection.js');\r\nGranim.prototype.setSizeAttributes = require('./setSizeAttributes.js');\r\nGranim.prototype.triggerError = require('./triggerError.js');\r\nGranim.prototype.validateInput = require('./validateInput.js');\r\n\r\nmodule.exports = Granim;\r\n","'use strict';\r\n\r\nmodule.exports = function(timestamp) {\r\n\tvar wasWindowIdled = timestamp - this.previousTimeStamp > 100;\r\n\tvar isLoop = this.states[this.activeState].loop !== undefined ? this.states[this.activeState].loop : true;\r\n\tvar progressPercent, isLooping, nextGradient;\r\n\r\n\t// If tab was inactive then resumed, reset the previous timestamp\r\n\tif (this.previousTimeStamp === null || wasWindowIdled) {\r\n\t\tthis.previousTimeStamp = timestamp;\r\n\t}\r\n\r\n\t// Compute progress and save the timestamp\r\n\tthis.progress = this.progress + (timestamp - this.previousTimeStamp);\r\n\tprogressPercent = (this.progress / this.activetransitionSpeed * 100).toFixed(2);\r\n\tthis.previousTimeStamp = timestamp;\r\n\r\n\t// Set the new gradient colors in a property\r\n\tthis.refreshColorsAndPos(progressPercent);\r\n\r\n\t// Continue the animation or prepare for the next one\r\n\tif (progressPercent < 100) {\r\n\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\r\n\r\n\t} else {\r\n\t\t// if the current animation index is inferior to the penultimate gradient\r\n\t\t// or to the last gradient with the loop mode activated\r\n\t\tif (this.channelsIndex < this.states[this.activeState].gradients.length - 2 || isLoop) {\r\n\r\n\t\t\t// Set the active transition speed to the active state one after changing state\r\n\t\t\tif (this.isChangingState) {\r\n\t\t\t\tthis.activetransitionSpeed = this.states[this.activeState].transitionSpeed || 5000;\r\n\t\t\t\tthis.isChangingState = false;\r\n\t\t\t}\r\n\r\n\t\t\t// Resetting properties\r\n\t\t\tthis.previousTimeStamp = null;\r\n\t\t\tthis.progress = 0;\r\n\t\t\tthis.channelsIndex++;\r\n\t\t\tisLooping = false;\r\n\r\n\t\t\t// If it's going to loop or if it's the transition after the loop\r\n\t\t\tif (this.channelsIndex === this.states[this.activeState].gradients.length - 1) {\r\n\t\t\t\tisLooping = true;\r\n\t\t\t\t\r\n\t\t\t} else if (this.channelsIndex === this.states[this.activeState].gradients.length) {\r\n\t\t\t\tthis.channelsIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t\t// Checking the next gradient to send in args of an event and a callback\r\n\t\t\tnextGradient = this.states[this.activeState].gradients[this.channelsIndex + 1] === undefined ?\r\n\t\t\t\tthis.states[this.activeState].gradients[0] :\r\n\t\t\t\tthis.states[this.activeState].gradients[this.channelsIndex + 1];\r\n\r\n\t\t\t// Compute the colors for the transition and render a new frame\r\n\t\t\tthis.setColors();\r\n\t\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\r\n\t\t\t\r\n\t\t\t// Callback and Event\r\n\t\t\tif (this.callbacks.onGradientChange) {\r\n\t\t\t\tthis.callbacks.onGradientChange({\r\n\t\t\t\t\tisLooping: isLooping,\r\n\t\t\t\t\tcolorsFrom: this.states[this.activeState].gradients[this.channelsIndex],\r\n\t\t\t\t\tcolorsTo: nextGradient,\r\n\t\t\t\t\tactiveState: this.activeState\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.canvas.dispatchEvent(this.events.gradientChange({\r\n\t\t\t\tisLooping: isLooping,\r\n\t\t\t\tcolorsFrom: this.states[this.activeState].gradients[this.channelsIndex],\r\n\t\t\t\tcolorsTo: nextGradient,\r\n\t\t\t\tactiveState: this.activeState\r\n\t\t\t}));\r\n\r\n\t\t// Else if it was the last gradient on the list and the loop mode is off\r\n\t\t} else {\r\n\t\t\tcancelAnimationFrame(this.animation);\r\n\r\n\t\t\t// Callback and Event\r\n\t\t\tif (this.callbacks.onEnd) this.callbacks.onEnd();\r\n\t\t\tthis.canvas.dispatchEvent(new CustomEvent('granim:end'));\r\n\t\t}\r\n\t}\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(newBlendingMode) {\r\n\tthis.context.clearRect(0, 0, this.x1, this.y1);\r\n\tthis.context.globalCompositeOperation =\r\n\t\tthis.image.blendingMode = newBlendingMode;\r\n\tthis.validateInput('blendingMode');\r\n\tif (this.isPaused) this.refreshColorsAndPos();\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(newDirection) {\r\n\tthis.context.clearRect(0, 0, this.x1, this.y1);\r\n\tthis.direction = newDirection;\r\n\tthis.validateInput('direction');\r\n\tif (this.isPaused) this.refreshColorsAndPos();\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(newState) {\r\n\tvar _this = this;\r\n\r\n\t// Prevent transitioning to the same state\r\n\tif (this.activeState === newState) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Setting the good properties for the transition\r\n\tif (!this.isPaused) {\r\n\t\tthis.isPaused = true;\r\n\t\tthis.pause();\r\n\t}\r\n\r\n\tthis.channelsIndex = -1;\r\n\tthis.activetransitionSpeed = this.stateTransitionSpeed;\r\n\tthis.activeColorsDiff = [];\r\n\tthis.activeColorsPosDiff = [];\r\n\tthis.activeColors = this.getCurrentColors();\r\n\tthis.activeColorsPos = this.getCurrentColorsPos();\r\n\tthis.progress = 0;\r\n\tthis.previousTimeStamp = null;\r\n\tthis.isChangingState = true;\r\n\r\n\t// Compute the gradient color and pos diff between the last frame gradient\r\n\t// and the first one of the new state\r\n\tthis.states[newState].gradients[0].forEach(function(gradientColor, i, arr) {\r\n\t\tvar nextColors = _this.convertColorToRgba(_this.getColor(gradientColor));\r\n\t\tvar nextColorsPos = _this.getColorPos(gradientColor, i);\r\n\t\tvar colorDiff = _this.getColorDiff(_this.activeColors[i], nextColors);\r\n\t\tvar colorPosDiff = _this.getColorPosDiff(_this.activeColorsPos[i], nextColorsPos);\r\n\t\t_this.activeColorsDiff.push(colorDiff);\r\n\t\t_this.activeColorsPosDiff.push(colorPosDiff);\r\n\t});\r\n\r\n\t// Start the animation\r\n\tthis.activeState = newState;\r\n\tthis.play();\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tif (!this.isPaused) {\r\n\t\tcancelAnimationFrame(this.animation);\r\n\r\n\t} else {\r\n\t\tthis.isPaused = false;\r\n\t}\r\n\tthis.isCleared = true;\r\n\tthis.context.clearRect(0, 0, this.x1, this.y1);\r\n};\r\n","'use strict';\r\n\r\nvar regex = {\r\n\thexa: /^#(?:[0-9a-fA-F]{3}){1,2}$/,\r\n\trgba: /^rgba\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3}), ?(.?\\d{1,3})\\)$/,\r\n\trgb: /^rgb\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)$/,\r\n\thsla: /^hsla\\((\\d{1,3}), ?(\\d{1,3})%, ?(\\d{1,3})%, ?(.?\\d{1,3})\\)$/,\r\n\thsl: /^hsl\\((\\d{1,3}), ?(\\d{1,3})%, ?(\\d{1,3})%\\)$/\r\n}, match;\r\n\r\nmodule.exports = function(color) {\r\n\tswitch(identifyColorType(color)) {\r\n\t\tdefault:\r\n\t\t\tthis.triggerError('colorType');\r\n\r\n\t\tcase 'hexa':\r\n\t\t\treturn hexToRgba(color);\r\n\r\n\t\tcase 'rgba':\r\n\t\t\treturn [\r\n\t\t\t\tparseInt(match[1], 10),\r\n\t\t\t\tparseInt(match[2], 10),\r\n\t\t\t\tparseInt(match[3], 10),\r\n\t\t\t\tparseFloat(match[4])\r\n\t\t\t];\r\n\r\n\t\tcase 'rgb':\r\n\t\t\treturn [\r\n\t\t\t\tparseInt(match[1], 10),\r\n\t\t\t\tparseInt(match[2], 10),\r\n\t\t\t\tparseInt(match[3], 10),\r\n\t\t\t\t1\r\n\t\t\t];\r\n\r\n\t\tcase 'hsla':\r\n\t\t\treturn hslaToRgb(\r\n\t\t\t\tparseInt(match[1], 10) / 360,\r\n\t\t\t\tparseInt(match[2], 10) / 100,\r\n\t\t\t\tparseInt(match[3], 10) / 100,\r\n\t\t\t\tparseFloat(match[4])\r\n\t\t\t);\r\n\r\n\t\tcase 'hsl':\r\n\t\t\treturn hslaToRgb(\r\n\t\t\t\tparseInt(match[1], 10) / 360,\r\n\t\t\t\tparseInt(match[2], 10) / 100,\r\n\t\t\t\tparseInt(match[3], 10) / 100,\r\n\t\t\t\t1\r\n\t\t\t);\r\n\t}\r\n};\r\n\r\nfunction identifyColorType(color) {\r\n\tvar colorTypes = Object.keys(regex);\r\n\tvar i = 0;\r\n\tfor (i; i < colorTypes.length; i++) {\r\n\t\tmatch = regex[colorTypes[i]].exec(color);\r\n\t\tif (match) return colorTypes[i];\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction hexToRgba(hex) {\r\n\t// Expand shorthand form (e.g. '03F') to full form (e.g. '0033FF')\r\n\tvar shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n\thex = hex.replace(shorthandRegex, function(m, r, g, b) {\r\n\t\treturn r + r + g + g + b + b;\r\n\t});\r\n\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\treturn result ? [\r\n\t\tparseInt(result[1], 16),\r\n\t\tparseInt(result[2], 16),\r\n\t\tparseInt(result[3], 16),\r\n\t\t1\r\n\t] : null;\r\n}\r\n\r\nfunction hue2rgb(p, q, t) {\r\n\tif (t < 0) t += 1;\r\n\tif (t > 1) t -= 1;\r\n\tif (t < 1 / 6) return p + (q - p) * 6 * t;\r\n\tif (t < 1 / 2) return q;\r\n\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n\treturn p;\r\n}\r\n\r\nfunction hslaToRgb(h, s, l, a) {\r\n\tvar r, g, b, q, p;\r\n\tif (s === 0) {\r\n\t\tr = g = b = l; // achromatic\r\n\t} else {\r\n\t\tq = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tp = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1/3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1/3);\r\n\t}\r\n\treturn [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a];\r\n}\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tthis.onResize('removeListeners');\r\n\tthis.onScroll('removeListeners');\r\n\tthis.clear();\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tif ( typeof window.CustomEvent === 'function' ) return;\r\n\r\n\tfunction CustomEvent(event, params) {\r\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\r\n\t\tvar evt = document.createEvent('CustomEvent');\r\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\t\treturn evt;\r\n\t}\r\n\r\n\tCustomEvent.prototype = window.Event.prototype;\r\n\r\n\twindow.CustomEvent = CustomEvent;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(gradientColor) {\r\n\tif (typeof gradientColor === 'string') {\r\n\t\treturn gradientColor;\r\n\r\n\t} else if (typeof gradientColor === 'object' && gradientColor.color) {\r\n\t\treturn gradientColor.color;\r\n\r\n\t} else {\r\n\t\tthis.triggerError('gradient.color');\r\n\t}\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(colorA, colorB) {\r\n\tvar i = 0;\r\n\tvar colorDiff = [];\r\n\r\n\tfor (i; i < 4; i++) {\r\n\t\tcolorDiff.push(colorB[i] - colorA[i]);\r\n\t}\r\n\r\n\treturn colorDiff;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(gradientColor, i) {\r\n\tif (typeof gradientColor === 'object' && gradientColor.pos) {\r\n\t\treturn gradientColor.pos;\r\n\r\n\t} else {\r\n\t\t// Ensure first and last position to be 0 and 100\r\n\t\treturn parseFloat(!i ? 0 : ((1 / (this.gradientLength - 1)) * i).toFixed(2));\r\n\t}\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(posA, posB) {\r\n\treturn posB - posA;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar i, j;\r\n\tvar currentColors = [];\r\n\r\n\tfor (i = 0; i < this.currentColors.length; i++) {\r\n\t\tcurrentColors.push([]);\r\n\r\n\t\tfor (j = 0; j < 4; j++) {\r\n\t\t\tcurrentColors[i].push(this.currentColors[i][j]);\r\n\t\t}\r\n\t}\r\n\r\n\t// Return a deep copy of the current colors\r\n\treturn currentColors;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar currentColorsPos = [], i;\r\n\r\n\tfor (i = 0; i < this.currentColorsPos.length; i++) {\r\n\t\tcurrentColorsPos.push(this.currentColorsPos[i]);\r\n\t}\r\n\r\n\t// Return a deep copy of the current colors\r\n\treturn currentColorsPos;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tthis.x1 = this.canvas.offsetWidth;\r\n\tthis.y1 = this.canvas.offsetHeight;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(element) {\r\n\tif (element instanceof HTMLCanvasElement) {\r\n\t\tthis.canvas = element;\r\n\r\n\t} else if (typeof element === 'string') {\r\n\t\tthis.canvas = document.querySelector(element);\r\n\r\n\t} else {\r\n\t\tthrow new Error('The element you used is neither a String, nor a HTMLCanvasElement');\r\n\t}\r\n\r\n\tif (!this.canvas) {\r\n\t\tthrow new Error('`' + element + '` could not be found in the DOM');\r\n\t}\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar currentColors = this.getCurrentColors();\r\n\tvar gradientAverage = null;\r\n\tvar lightnessAverage, i;\r\n\tvar colorsAverage = currentColors.map(function(el) {\r\n\t\t// Compute the average lightness of each color\r\n\t\t// in the current gradient\r\n\t\treturn Math.max(el[0], el[1], el[2]);\r\n\t});\r\n\r\n\tfor (i = 0; i < colorsAverage.length; i++) {\r\n\t\t// Add all the average lightness of each color\r\n\t\tgradientAverage = gradientAverage === null ?\r\n\t\t\tcolorsAverage[i] : gradientAverage + colorsAverage[i];\r\n\r\n\t\tif (i === colorsAverage.length - 1) {\r\n\t\t\t// if it's the last lightness average\r\n\t\t\t// divide it by the total length to\r\n\t\t\t// have the global average lightness\r\n\t\t\tlightnessAverage = Math.round(gradientAverage / (i + 1));\r\n\t\t}\r\n\t}\r\n\r\n\treturn lightnessAverage >= 128 ? 'light' : 'dark';\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar gradient = this.setDirection();\r\n\tvar elToSetClassOnClass = document.querySelector(this.elToSetClassOn).classList;\r\n\tvar i = 0;\r\n\tthis.context.clearRect(0, 0, this.x1, this.y1);\r\n\r\n\tif (this.image) {\r\n\t\tthis.context.drawImage(\r\n\t\t\tthis.imageNode,\r\n\t\t\tthis.imagePosition.x,\r\n\t\t\tthis.imagePosition.y,\r\n\t\t\tthis.imagePosition.width,\r\n\t\t\tthis.imagePosition.height\r\n\t\t);\r\n\t}\r\n\r\n\tfor (i; i < this.currentColors.length; i++) {\r\n\t\tgradient.addColorStop(this.currentColorsPos[i], 'rgba(' +\r\n\t\t\tthis.currentColors[i][0] + ', ' +\r\n\t\t\tthis.currentColors[i][1] + ', ' +\r\n\t\t\tthis.currentColors[i][2] + ', ' +\r\n\t\t\tthis.currentColors[i][3] + ')'\r\n\t\t);\r\n\t}\r\n\r\n\tif (this.name) {\r\n\t\tif (this.getLightness() === 'light') {\r\n\t\t\telToSetClassOnClass.remove(this.name + '-dark');\r\n\t\t\telToSetClassOnClass.add(this.name + '-light');\r\n\r\n\t\t} else {\r\n\t\t\telToSetClassOnClass.remove(this.name + '-light');\r\n\t\t\telToSetClassOnClass.add(this.name + '-dark');\r\n\t\t}\r\n\t}\r\n\r\n\tthis.context.fillStyle = gradient;\r\n\tthis.context.fillRect(0, 0, this.x1, this.y1);\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(type) {\r\n\tif (type === 'removeListeners') {\r\n\t\twindow.removeEventListener('resize', this.setSizeAttributesNameSpace);\r\n\t\treturn;\r\n\t}\r\n\r\n\twindow.addEventListener('resize', this.setSizeAttributesNameSpace);\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(type) {\r\n\tif (type === 'removeListeners') {\r\n\t\twindow.removeEventListener('scroll', this.pauseWhenNotInViewNameSpace);\r\n\t\treturn;\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', this.pauseWhenNotInViewNameSpace);\r\n\tthis.pauseWhenNotInViewNameSpace();\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(state) {\r\n\tvar isPausedBecauseNotInView = state === 'isPausedBecauseNotInView';\r\n\tif (this.isCleared) return;\r\n\tif (!isPausedBecauseNotInView) this.isPaused = true;\r\n\tcancelAnimationFrame(this.animation);\r\n\tthis.animating = false;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar _this = this;\r\n\tif (this.scrollDebounceTimeout) clearTimeout(this.scrollDebounceTimeout);\r\n\r\n\tthis.scrollDebounceTimeout = setTimeout(function() {\r\n\t\tvar elPos = _this.canvas.getBoundingClientRect();\r\n\t\t_this.isCanvasInWindowView = !(elPos.bottom < 0 || elPos.right < 0 ||\r\n\t\t\telPos.left > window.innerWidth || elPos.top > window.innerHeight);\r\n\r\n\t\tif (_this.isCanvasInWindowView) {\r\n\t\t\tif (!_this.isPaused || _this.firstScrollInit) {\r\n\t\t\t\tif (_this.image && !_this.isImgLoaded) {return;}\r\n\t\t\t\t_this.isPausedBecauseNotInView = false;\r\n\t\t\t\t_this.play('isPlayedBecauseInView');\r\n\t\t\t\t_this.firstScrollInit = false;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (!_this.image && _this.firstScrollInit) {\r\n\t\t\t\t_this.refreshColorsAndPos();\r\n\t\t\t\t_this.firstScrollInit = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (!_this.isPaused && !_this.isPausedBecauseNotInView) {\r\n\t\t\t\t_this.isPausedBecauseNotInView = true;\r\n\t\t\t\t_this.pause('isPausedBecauseNotInView');\r\n\t\t\t}\r\n\t\t}\r\n\t}, this.scrollDebounceThreshold);\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(state) {\r\n\tvar isPlayedBecauseInView = state === 'isPlayedBecauseInView';\r\n\tif (!isPlayedBecauseInView) this.isPaused = false;\r\n\tthis.isCleared = false;\r\n\tif (!this.animating) {\r\n\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\r\n\t\tthis.animating = true;\r\n\t}\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar _this = this;\r\n\r\n\tif (!this.imagePosition) {\r\n\t\tthis.imagePosition = { x: 0, y: 0, width: 0, height: 0 };\r\n\t}\r\n\r\n\tif (this.image.blendingMode) {\r\n\t\tthis.context.globalCompositeOperation = this.image.blendingMode;\r\n\t}\r\n\r\n\tif (this.imageNode) {\r\n\t\tsetImagePosition();\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis.imageNode = new Image();\r\n\tthis.imageNode.onerror = function() {\r\n\t\tthrow new Error('Granim: The image source is invalid.');\r\n\t};\r\n\tthis.imageNode.onload = function() {\r\n\t\t_this.imgOriginalWidth = _this.imageNode.width;\r\n\t\t_this.imgOriginalHeight = _this.imageNode.height;\r\n\t\tsetImagePosition();\r\n\t\t_this.refreshColorsAndPos();\r\n\t\tif (!_this.isPausedWhenNotInView || _this.isCanvasInWindowView) {\r\n\t\t\t_this.animation = requestAnimationFrame(_this.animateColors.bind(_this));\r\n\t\t}\r\n\t\t_this.isImgLoaded = true;\r\n\t};\r\n\tthis.imageNode.src = this.image.source;\r\n\r\n\tfunction setImagePosition() {\r\n\t\tvar i, currentAxis;\r\n\r\n\t\tfor (i = 0; i < 2; i++) {\r\n\t\t\tcurrentAxis = !i ? 'x' : 'y';\r\n\t\t\tsetImageAxisPosition(currentAxis);\r\n\t\t}\r\n\r\n\t\tfunction setImageAxisPosition(axis) {\r\n\t\t\tvar canvasWidthOrHeight = _this[axis + '1'];\r\n\t\t\tvar imgOriginalWidthOrHeight = _this[axis === 'x' ? 'imgOriginalWidth' : 'imgOriginalHeight'];\r\n\t\t\tvar imageAlignIndex = axis === 'x' ? _this.image.position[0] : _this.image.position[1];\r\n\t\t\tvar imageAxisPosition;\r\n\t\t\tswitch(imageAlignIndex) {\r\n\t\t\t\tcase 'center':\r\n\t\t\t\t\timageAxisPosition = imgOriginalWidthOrHeight > canvasWidthOrHeight\r\n\t\t\t\t\t\t? -(imgOriginalWidthOrHeight - canvasWidthOrHeight) / 2\r\n\t\t\t\t\t\t: (canvasWidthOrHeight - imgOriginalWidthOrHeight) / 2;\r\n\t\t\t\t\t_this.imagePosition[axis] = imageAxisPosition;\r\n\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = imgOriginalWidthOrHeight;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'top':\r\n\t\t\t\t\t_this.imagePosition['y'] = 0;\r\n\t\t\t\t\t_this.imagePosition['height'] = imgOriginalWidthOrHeight;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bottom':\r\n\t\t\t\t\t_this.imagePosition['y'] = canvasWidthOrHeight - imgOriginalWidthOrHeight;\r\n\t\t\t\t\t_this.imagePosition['height'] = imgOriginalWidthOrHeight;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'right':\r\n\t\t\t\t\t_this.imagePosition['x'] = canvasWidthOrHeight - imgOriginalWidthOrHeight;\r\n\t\t\t\t\t_this.imagePosition['width'] = imgOriginalWidthOrHeight;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'left':\r\n\t\t\t\t\t_this.imagePosition['x'] = 0;\r\n\t\t\t\t\t_this.imagePosition['width'] = imgOriginalWidthOrHeight;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (_this.image.stretchMode) {\r\n\t\t\t\timageAlignIndex = axis === 'x' ? _this.image.stretchMode[0] : _this.image.stretchMode[1];\r\n\t\t\t\tswitch(imageAlignIndex) {\r\n\t\t\t\t\tcase 'none':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'stretch':\r\n\t\t\t\t\t\t_this.imagePosition[axis] = 0;\r\n\t\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = canvasWidthOrHeight;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'stretch-if-bigger':\r\n\t\t\t\t\t\tif (imgOriginalWidthOrHeight < canvasWidthOrHeight) break;\r\n\t\t\t\t\t\t_this.imagePosition[axis] = 0;\r\n\t\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = canvasWidthOrHeight;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'stretch-if-smaller':\r\n\t\t\t\t\t\tif (imgOriginalWidthOrHeight > canvasWidthOrHeight) break;\r\n\t\t\t\t\t\t_this.imagePosition[axis] = 0;\r\n\t\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = canvasWidthOrHeight;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(progressPercent) {\r\n\tvar _this = this, activeChannel, activeChannelPos, i, j;\r\n\r\n\t// Loop through each colors of the active gradient\r\n\tfor (i = 0; i < this.activeColors.length; i++) {\r\n\r\n\t\t// Generate RGBA colors\r\n\t\tfor (j = 0; j < 4; j++) {\r\n\t\t\t// If color value [0-255] round to the integer,\r\n\t\t\t// Else if opacity [0-1] round to 2 decimals\r\n\t\t\tactiveChannel = _this.activeColors[i][j] +\r\n\t\t\t\t(j !== 3\r\n\t\t\t\t\t? Math.ceil(_this.activeColorsDiff[i][j] / 100 * progressPercent)\r\n\t\t\t\t\t: Math.round((_this.activeColorsDiff[i][j] / 100 * progressPercent) * 100) / 100\r\n\t\t\t\t);\r\n\r\n\t\t\t// Prevent colors values from going < 0 & > 255\r\n\t\t\tif (activeChannel <= 255 && activeChannel >= 0) {\r\n\t\t\t\t_this.currentColors[i][j] = activeChannel;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Generate gradient color position\r\n\t\tactiveChannelPos = parseFloat((_this.activeColorsPos[i] +\r\n\t\t\t(_this.activeColorsPosDiff[i] / 100 * progressPercent)\r\n\t\t).toFixed(4));\r\n\r\n\t\tif (activeChannelPos <= 1 && activeChannelPos >= 0) {\r\n\t\t\t_this.currentColorsPos[i] = activeChannelPos;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.makeGradient();\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar _this = this, colorDiff, colorPosDiff, nextColors, nextColorsPos;\r\n\r\n\tif (!this.channels[this.activeState]) this.channels[this.activeState] = [];\r\n\r\n\t// If the actual channel exist, reassign properties and exit\r\n\t// (each channel is saved to prevent recomputing it each time)\r\n\tif (this.channels[this.activeState][this.channelsIndex] !== undefined) {\r\n\t\tthis.activeColors = this.channels[this.activeState][this.channelsIndex].colors;\r\n\t\tthis.activeColorsDiff = this.channels[this.activeState][this.channelsIndex].colorsDiff;\r\n\t\tthis.activeColorsPos = this.channels[this.activeState][this.channelsIndex].colorsPos;\r\n\t\tthis.activeColorsPosDiff = this.channels[this.activeState][this.channelsIndex].colorsPosDiff;\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Set blank properties\r\n\tthis.channels[this.activeState].push([{}]);\r\n\tthis.channels[this.activeState][this.channelsIndex].colors = [];\r\n\tthis.channels[this.activeState][this.channelsIndex].colorsDiff = [];\r\n\tthis.channels[this.activeState][this.channelsIndex].colorsPos = [];\r\n\tthis.channels[this.activeState][this.channelsIndex].colorsPosDiff = [];\r\n\tthis.activeColors = [];\r\n\tthis.activeColorsDiff = [];\r\n\tthis.activeColorsPos = [];\r\n\tthis.activeColorsPosDiff = [];\r\n\r\n\t// Go on each gradient of the current state\r\n\tthis.states[this.activeState].gradients[this.channelsIndex].forEach(function(color, i) {\r\n\t\t// Push the hex color converted to rgba on the channel and the active color properties\r\n\t\tvar colorPos = _this.getColorPos(color, i);\r\n\t\tvar color = _this.getColor(color);\r\n\t\tvar rgbaColor = _this.convertColorToRgba(color);\r\n\t\tvar activeChannel = _this.channels[_this.activeState];\r\n\r\n\t\tactiveChannel[_this.channelsIndex].colors.push(rgbaColor);\r\n\t\t_this.activeColors.push(rgbaColor);\r\n\t\tactiveChannel[_this.channelsIndex].colorsPos.push(colorPos);\r\n\t\t_this.activeColorsPos.push(colorPos);\r\n\r\n\t\t// If it's the first channel to be set, set the currentColors\r\n\t\tif (!_this.isCurrentColorsSet) {\r\n\t\t\t_this.currentColors.push(_this.convertColorToRgba(color));\r\n\t\t\t_this.currentColorsPos.push(colorPos);\r\n\t\t}\r\n\r\n\t\t// If it's the last gradient, compute the color diff between the last gradient and the first one,\r\n\t\t// else between the penultimate one and the last one\r\n\t\tif (_this.channelsIndex === _this.states[_this.activeState].gradients.length - 1) {\r\n\t\t\tcolorDiff = _this.getColorDiff(\r\n\t\t\t\tactiveChannel[_this.channelsIndex].colors[i],\r\n\t\t\t\tactiveChannel[0].colors[i]\r\n\t\t\t);\r\n\t\t\tcolorPosDiff = _this.getColorPosDiff(\r\n\t\t\t\tactiveChannel[_this.channelsIndex].colorsPos[i],\r\n\t\t\t\tactiveChannel[0].colorsPos[i]\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\t\t\tnextColors = _this.convertColorToRgba(_this.getColor(_this.states[_this.activeState].gradients[_this.channelsIndex + 1][i]));\r\n\t\t\tnextColorsPos = _this.getColorPos(_this.states[_this.activeState].gradients[_this.channelsIndex + 1][i], i);\r\n\t\t\tcolorDiff = _this.getColorDiff(activeChannel[_this.channelsIndex].colors[i], nextColors);\r\n\t\t\tcolorPosDiff = _this.getColorPosDiff(activeChannel[_this.channelsIndex].colorsPos[i], nextColorsPos);\r\n\t\t}\r\n\r\n\t\tactiveChannel[_this.channelsIndex].colorsDiff.push(colorDiff);\r\n\t\t_this.activeColorsDiff.push(colorDiff);\r\n\t\tactiveChannel[_this.channelsIndex].colorsPosDiff.push(colorPosDiff);\r\n\t\t_this.activeColorsPosDiff.push(colorPosDiff);\r\n\t});\r\n\r\n\tthis.activetransitionSpeed = this.states[this.activeState].transitionSpeed || 5000;\r\n\tthis.isCurrentColorsSet = true;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar ctx = this.context;\r\n\r\n\tswitch(this.direction) {\r\n\t\tcase 'diagonal':\r\n\t\t\treturn ctx.createLinearGradient(0, 0, this.x1, this.y1);\r\n\r\n\t\tcase 'left-right':\r\n\t\t\treturn ctx.createLinearGradient(0, 0, this.x1, 0);\r\n\r\n\t\tcase 'top-bottom':\r\n\t\t\treturn ctx.createLinearGradient(this.x1 / 2, 0, this.x1 / 2, this.y1);\r\n\r\n\t\tcase 'radial':\r\n\t\t\treturn ctx.createRadialGradient(this.x1 / 2, this.y1 / 2, this.x1 / 2, this.x1 / 2, this.y1 / 2, 0);\r\n\r\n\t\tcase 'custom':\r\n\t\t\treturn ctx.createLinearGradient(\r\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.x0, this.x1),\r\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.y0, this.y1),\r\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.x1, this.x1),\r\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.y1, this.y1)\r\n\t\t\t);\r\n\t}\r\n};\r\n\r\nfunction getCustomCoordinateInPixels(coordinate, size) {\r\n\treturn coordinate.indexOf('%') > -1\r\n\t\t? size / 100 * parseInt(coordinate.split('%')[0], 10)\r\n\t\t: parseInt(coordinate.split('px')[0], 10);\r\n}\r\n","'use strict';\r\n\r\nmodule.exports = function() {\r\n\tthis.getDimensions();\r\n\tthis.canvas.setAttribute('width', this.x1);\r\n\tthis.canvas.setAttribute('height', this.y1);\r\n\tif (this.image) this.prepareImage();\r\n\tthis.refreshColorsAndPos();\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(element) {\r\n\tvar siteURL = 'https://sarcadass.github.io/granim.js/api.html';\r\n\tthrow new Error('Granim: Input error on \"' + element + '\" option.\\nCheck the API ' + siteURL + '.');\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function(inputType) {\r\n\tvar xPositionValues = ['left', 'center', 'right'];\r\n\tvar yPositionValues = ['top', 'center', 'bottom'];\r\n\tvar stretchModeValues = ['none', 'stretch', 'stretch-if-smaller', 'stretch-if-bigger'];\r\n\tvar blendingModeValues = ['multiply', 'screen', 'normal', 'overlay', 'darken',\r\n\t\t'lighten', 'lighter', 'color-dodge', 'color-burn', 'hard-light', 'soft-light',\r\n\t\t'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\r\n\tvar directionValues = ['diagonal', 'left-right', 'top-bottom', 'radial', 'custom'];\r\n\r\n\tswitch(inputType) {\r\n\t\tcase 'image':\r\n\t\t\t// Validate image.position\r\n\t\t\tif ((!Array.isArray(this.image.position) || this.image.position.length !== 2) ||\r\n\t\t\t\txPositionValues.indexOf(this.image.position[0]) === -1 ||\r\n\t\t\t\tyPositionValues.indexOf(this.image.position[1]) === -1\r\n\t\t\t) { this.triggerError('image.position'); }\r\n\t\t\t// Validate image.stretchMode\r\n\t\t\tif (this.image.stretchMode) {\r\n\t\t\t\tif ((!Array.isArray(this.image.stretchMode) || this.image.stretchMode.length !== 2) ||\r\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[0]) === -1 ||\r\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[1]) === -1\r\n\t\t\t\t) { this.triggerError('image.stretchMode'); }\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'blendingMode':\r\n\t\t\tif (blendingModeValues.indexOf(this.image.blendingMode) === -1) {\r\n\t\t\t\tthis.clear();\r\n\t\t\t\tthis.triggerError('blendingMode');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'direction':\r\n\t\t\tif (directionValues.indexOf(this.direction) === -1) {\r\n\t\t\t\tthis.triggerError('direction');\r\n\t\t\t} else {\r\n\t\t\t\tif (this.direction === 'custom') {\r\n\t\t\t\t\tif (!areDefinedInPixelsOrPercentage([\r\n\t\t\t\t\t\tthis.customDirection.x0,\r\n\t\t\t\t\t\tthis.customDirection.x1,\r\n\t\t\t\t\t\tthis.customDirection.y0,\r\n\t\t\t\t\t\tthis.customDirection.y1\r\n\t\t\t\t\t])) {\r\n\t\t\t\t\t\tthis.triggerError('customDirection');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t}\r\n};\r\n\r\nfunction areDefinedInPixelsOrPercentage(array) {\r\n\tvar definedInPixelsOrPercentage = true, i = 0, value;\r\n\twhile (definedInPixelsOrPercentage && i < array.length) {\r\n\t\tvalue = array[i];\r\n\t\tif (typeof value !== 'string') {\r\n\t\t\tdefinedInPixelsOrPercentage = false;\r\n\t\t} else {\r\n\t\t\tvar splittedValue = null;\r\n\t\t\tvar unit = null;\r\n\t\t\tif (value.indexOf('px') !== -1) unit = 'px';\r\n\t\t\tif (value.indexOf('%') !== -1) unit = '%';\r\n\t\t\tsplittedValue = value.split(unit).filter(function(value) {\r\n\t\t\t\treturn value.length > 0;\r\n\t\t\t});\r\n\t\t\t// Check if there is a unit ('px' or '%'),\r\n\t\t\t// a char before the unit,\r\n\t\t\t// no char after the unit,\r\n\t\t\t// the string without the unit is only composed of digits\r\n\t\t\tif (\r\n\t\t\t\t!unit\r\n\t\t\t\t|| splittedValue.length > 2\r\n\t\t\t\t|| !splittedValue[0]\r\n\t\t\t\t|| splittedValue[1]\r\n\t\t\t\t|| !/^-?\\d+\\.?\\d*$/.test(splittedValue[0])\r\n\t\t\t) {\r\n\t\t\t\tdefinedInPixelsOrPercentage = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n\treturn definedInPixelsOrPercentage;\r\n}\r\n","class CountdownNumber {\n  constructor (element, maxVal = null) {\n    this.element = element\n    this.previousValue = element.innerText\n    this.maxVal = maxVal\n  }\n\n  setValue (value) {\n    if (parseInt(value) === parseInt(this.previousValue)) return false\n    this.element.classList.remove('up', 'down', 'in')\n    this.element.classList.add((value >= this.previousValue && value !== this.maxVal) ? 'up' : 'down')\n    this.element.classList.add('out')\n    setTimeout(() => {\n      this.element.classList.remove('out')\n      this.element.innerText = value\n      this.previousValue = value\n      this.element.classList.add('in')\n    }, 250)\n    return true\n  }\n}\n\nexport default CountdownNumber\n","import countdown from 'countdown'\nimport CountdownNumber from './modules/CountdownNumber'\nimport Granim from 'granim'\n\nconst $ = document.querySelector.bind(document)\n\nlet data = {\n  year: 2020,\n  month: 4,\n  day: 11,\n  hour: 0,\n  minute: 0\n}\nwindow.fetch('https://gist.githubusercontent.com/leoboyerbx/06ab5c985abcf78b27345b9acea59498/raw/decomptefinement_data.json').then(res => res.json()).then(res => {\n  data = res\n})\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const daysNumber = new CountdownNumber($('#days-number'))\n  const hoursNumber = new CountdownNumber($('#hours-number'), 23)\n  const minutesNumber = new CountdownNumber($('#minutes-number'), 59)\n  const secondsNumber = new CountdownNumber($('#seconds-number'), 59)\n\n  function onUpdateCounter (callback) {\n    const timespan = countdown(null, new Date(data.year, data.month, data.day, data.hour || null, data.minute || null), countdown.DAYS | countdown.HOURS | countdown.MINUTES | countdown.SECONDS)\n\n    if (timespan.value >= 0) {\n      const indexes = ['days', 'hours', 'minutes', 'seconds']\n      indexes.forEach(index => {\n        if (timespan[index] < 10) {\n          timespan[index] = '0' + timespan[index]\n        }\n      })\n      daysNumber.setValue(timespan.days)\n      hoursNumber.setValue(timespan.hours)\n      minutesNumber.setValue(timespan.minutes)\n      secondsNumber.setValue(timespan.seconds)\n\n      $('#countdown').classList.remove('deconfined')\n      $('#deconfined-message').classList.remove('deconfined')\n    } else {\n      $('#countdown').classList.add('deconfined')\n      $('#deconfined-message').classList.add('deconfined')\n    }\n  }\n\n  setInterval(onUpdateCounter, 1000)\n\n  // const hero = $('#hero')\n\n  onUpdateCounter()\n\n  // Gradient background\n  const background = new Granim({\n    element: '#canvas-gradient',\n    // name: 'canvas-gradient',\n    // elToSetClassOn: '#hero',\n    direction: 'diagonal',\n    isPausedWhenNotInView: true,\n    stateTransitionSpeed: 500,\n    defaultStateName: 'before-morning',\n    states: {\n      'before-morning': {\n        gradients: [\n          ['#A43931', '#1D4350'],\n          ['#646881', '#A43931'],\n          ['#1D4350', '#646881']\n        ],\n        transitionSpeed: 5000\n      },\n      morning: {\n        gradients: [\n          ['#d3d31c', '#039bc9'],\n          ['#FE4A49', '#d3d31c'],\n          ['#039bc9', '#FE4A49']\n        ],\n        transitionSpeed: 5000\n      },\n      afternoon: {\n        gradients: [\n          ['#DC2430', '#7B4397'],\n          ['#F18F01', '#DC2430'],\n          ['#7B4397', '#F18F01']\n        ],\n        transitionSpeed: 5000\n      },\n      evening: {\n        gradients: [\n          ['#A43931', '#1D4350'],\n          ['#231F20', '#A43931'],\n          ['#1D4350', '#231F20']\n        ],\n        transitionSpeed: 5000\n      },\n      night: {\n        gradients: [\n          ['#283E51', '#4B79A1'],\n          ['#2B193D', '#283E51'],\n          ['#4B79A1', '#2B193D']\n        ],\n        transitionSpeed: 5000\n      }\n    }\n  })\n  const currentHour = new Date().getHours()\n  const gradientClass = currentHour < 5 ? 'night' : currentHour < 8 ? 'before-morning' : currentHour < 12 ? 'morning' : currentHour < 18 ? 'afternoon' : currentHour < 21 ? 'evening' : 'night'\n  background.changeState(gradientClass)\n})\n"],"sourceRoot":""}