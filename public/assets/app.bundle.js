/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/js/app.js":
/*!**************************!*\
  !*** ./assets/js/app.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var countdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! countdown */ \"./node_modules/countdown/countdown.js\");\n/* harmony import */ var countdown__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(countdown__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_CountdownNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/CountdownNumber */ \"./assets/js/modules/CountdownNumber.js\");\n\n\n\nconst $ = document.querySelector.bind(document)\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const daysNumber = new _modules_CountdownNumber__WEBPACK_IMPORTED_MODULE_1__[\"default\"]($('#days-number'))\n  const hoursNumber = new _modules_CountdownNumber__WEBPACK_IMPORTED_MODULE_1__[\"default\"]($('#hours-number'), 24)\n  const minutesNumber = new _modules_CountdownNumber__WEBPACK_IMPORTED_MODULE_1__[\"default\"]($('#minutes-number'), 60)\n  const secondsNumber = new _modules_CountdownNumber__WEBPACK_IMPORTED_MODULE_1__[\"default\"]($('#seconds-number'), 60)\n\n  function onUpdateCounter (callback) {\n    const timespan = countdown__WEBPACK_IMPORTED_MODULE_0___default()(null, new Date(2020, 4, 11), countdown__WEBPACK_IMPORTED_MODULE_0___default.a.DAYS | countdown__WEBPACK_IMPORTED_MODULE_0___default.a.HOURS | countdown__WEBPACK_IMPORTED_MODULE_0___default.a.MINUTES | countdown__WEBPACK_IMPORTED_MODULE_0___default.a.SECONDS)\n    const indexes = ['days', 'hours', 'minutes', 'seconds']\n    indexes.forEach(index => {\n      if (timespan[index] < 10) {\n        timespan[index] = '0' + timespan[index]\n      }\n    })\n    daysNumber.setValue(timespan.days)\n    hoursNumber.setValue(timespan.hours)\n    minutesNumber.setValue(timespan.minutes)\n    secondsNumber.setValue(timespan.seconds)\n  }\n\n  setInterval(onUpdateCounter, 1000)\n\n  const hero = $('#hero')\n  const currentHour = new Date().getHours()\n  const gradientClass = currentHour < 5 ? 'night' : currentHour < 8 ? 'before-morning' : currentHour < 12 ? 'morning' : currentHour < 18 ? 'afternoon' : currentHour < 21 ? 'evening' : 'night'\n  hero.classList.add('gradient-' + gradientClass)\n\n  onUpdateCounter()\n})\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hc3NldHMvanMvYXBwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL2FwcC5qcz9kNzQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb3VudGRvd24gZnJvbSAnY291bnRkb3duJ1xuaW1wb3J0IENvdW50ZG93bk51bWJlciBmcm9tICcuL21vZHVsZXMvQ291bnRkb3duTnVtYmVyJ1xuXG5jb25zdCAkID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvci5iaW5kKGRvY3VtZW50KVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBkYXlzTnVtYmVyID0gbmV3IENvdW50ZG93bk51bWJlcigkKCcjZGF5cy1udW1iZXInKSlcbiAgY29uc3QgaG91cnNOdW1iZXIgPSBuZXcgQ291bnRkb3duTnVtYmVyKCQoJyNob3Vycy1udW1iZXInKSwgMjQpXG4gIGNvbnN0IG1pbnV0ZXNOdW1iZXIgPSBuZXcgQ291bnRkb3duTnVtYmVyKCQoJyNtaW51dGVzLW51bWJlcicpLCA2MClcbiAgY29uc3Qgc2Vjb25kc051bWJlciA9IG5ldyBDb3VudGRvd25OdW1iZXIoJCgnI3NlY29uZHMtbnVtYmVyJyksIDYwKVxuXG4gIGZ1bmN0aW9uIG9uVXBkYXRlQ291bnRlciAoY2FsbGJhY2spIHtcbiAgICBjb25zdCB0aW1lc3BhbiA9IGNvdW50ZG93bihudWxsLCBuZXcgRGF0ZSgyMDIwLCA0LCAxMSksIGNvdW50ZG93bi5EQVlTIHwgY291bnRkb3duLkhPVVJTIHwgY291bnRkb3duLk1JTlVURVMgfCBjb3VudGRvd24uU0VDT05EUylcbiAgICBjb25zdCBpbmRleGVzID0gWydkYXlzJywgJ2hvdXJzJywgJ21pbnV0ZXMnLCAnc2Vjb25kcyddXG4gICAgaW5kZXhlcy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIGlmICh0aW1lc3BhbltpbmRleF0gPCAxMCkge1xuICAgICAgICB0aW1lc3BhbltpbmRleF0gPSAnMCcgKyB0aW1lc3BhbltpbmRleF1cbiAgICAgIH1cbiAgICB9KVxuICAgIGRheXNOdW1iZXIuc2V0VmFsdWUodGltZXNwYW4uZGF5cylcbiAgICBob3Vyc051bWJlci5zZXRWYWx1ZSh0aW1lc3Bhbi5ob3VycylcbiAgICBtaW51dGVzTnVtYmVyLnNldFZhbHVlKHRpbWVzcGFuLm1pbnV0ZXMpXG4gICAgc2Vjb25kc051bWJlci5zZXRWYWx1ZSh0aW1lc3Bhbi5zZWNvbmRzKVxuICB9XG5cbiAgc2V0SW50ZXJ2YWwob25VcGRhdGVDb3VudGVyLCAxMDAwKVxuXG4gIGNvbnN0IGhlcm8gPSAkKCcjaGVybycpXG4gIGNvbnN0IGN1cnJlbnRIb3VyID0gbmV3IERhdGUoKS5nZXRIb3VycygpXG4gIGNvbnN0IGdyYWRpZW50Q2xhc3MgPSBjdXJyZW50SG91ciA8IDUgPyAnbmlnaHQnIDogY3VycmVudEhvdXIgPCA4ID8gJ2JlZm9yZS1tb3JuaW5nJyA6IGN1cnJlbnRIb3VyIDwgMTIgPyAnbW9ybmluZycgOiBjdXJyZW50SG91ciA8IDE4ID8gJ2FmdGVybm9vbicgOiBjdXJyZW50SG91ciA8IDIxID8gJ2V2ZW5pbmcnIDogJ25pZ2h0J1xuICBoZXJvLmNsYXNzTGlzdC5hZGQoJ2dyYWRpZW50LScgKyBncmFkaWVudENsYXNzKVxuXG4gIG9uVXBkYXRlQ291bnRlcigpXG59KVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./assets/js/app.js\n");

/***/ }),

/***/ "./assets/js/modules/CountdownNumber.js":
/*!**********************************************!*\
  !*** ./assets/js/modules/CountdownNumber.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass CountdownNumber {\n  constructor (element, maxVal = null) {\n    this.element = element\n    this.previousValue = element.innerText\n    this.maxVal = maxVal\n  }\n\n  setValue (value) {\n    if (parseInt(value) === parseInt(this.previousValue)) return false\n    this.element.classList.remove('up', 'down', 'in')\n\n    this.element.classList.add(value > this.previousValue ? 'up' : 'down')\n    this.element.classList.add('out')\n    setTimeout(() => {\n      this.element.classList.remove('out')\n      this.element.innerText = value\n      this.previousValue = value > 0 ? value : this.maxVal ? this.maxVal : value\n      this.element.classList.add('in')\n    }, 250)\n    return true\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CountdownNumber);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hc3NldHMvanMvbW9kdWxlcy9Db3VudGRvd25OdW1iZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvbW9kdWxlcy9Db3VudGRvd25OdW1iZXIuanM/N2IyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDb3VudGRvd25OdW1iZXIge1xuICBjb25zdHJ1Y3RvciAoZWxlbWVudCwgbWF4VmFsID0gbnVsbCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLnByZXZpb3VzVmFsdWUgPSBlbGVtZW50LmlubmVyVGV4dFxuICAgIHRoaXMubWF4VmFsID0gbWF4VmFsXG4gIH1cblxuICBzZXRWYWx1ZSAodmFsdWUpIHtcbiAgICBpZiAocGFyc2VJbnQodmFsdWUpID09PSBwYXJzZUludCh0aGlzLnByZXZpb3VzVmFsdWUpKSByZXR1cm4gZmFsc2VcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgndXAnLCAnZG93bicsICdpbicpXG5cbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWx1ZSA+IHRoaXMucHJldmlvdXNWYWx1ZSA/ICd1cCcgOiAnZG93bicpXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ291dCcpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnb3V0JylcbiAgICAgIHRoaXMuZWxlbWVudC5pbm5lclRleHQgPSB2YWx1ZVxuICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gdmFsdWUgPiAwID8gdmFsdWUgOiB0aGlzLm1heFZhbCA/IHRoaXMubWF4VmFsIDogdmFsdWVcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbicpXG4gICAgfSwgMjUwKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ291bnRkb3duTnVtYmVyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./assets/js/modules/CountdownNumber.js\n");

/***/ }),

/***/ "./assets/scss/app.scss":
/*!******************************!*\
  !*** ./assets/scss/app.scss ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hc3NldHMvc2Nzcy9hcHAuc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy9zY3NzL2FwcC5zY3NzP2MyMWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./assets/scss/app.scss\n");

/***/ }),

/***/ "./node_modules/countdown/countdown.js":
/*!*********************************************!*\
  !*** ./node_modules/countdown/countdown.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*global window */\n/**\n * @license countdown.js v2.6.0 http://countdownjs.org\n * Copyright (c)2006-2014 Stephen M. McKamey.\n * Licensed under The MIT License.\n */\n/*jshint bitwise:false */\n\n/**\n * @public\n * @type {Object|null}\n */\nvar module;\n\n/**\n * API entry\n * @public\n * @param {function(Object)|Date|number} start the starting date\n * @param {function(Object)|Date|number} end the ending date\n * @param {number} units the units to populate\n * @return {Object|number}\n */\nvar countdown = (\n\n/**\n * @param {Object} module CommonJS Module\n */\nfunction(module) {\n\t/*jshint smarttabs:true */\n\n\t'use strict';\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLISECONDS\t= 0x001;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar SECONDS\t\t\t= 0x002;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MINUTES\t\t\t= 0x004;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar HOURS\t\t\t= 0x008;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DAYS\t\t\t= 0x010;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar WEEKS\t\t\t= 0x020;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MONTHS\t\t\t= 0x040;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar YEARS\t\t\t= 0x080;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DECADES\t\t\t= 0x100;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar CENTURIES\t\t= 0x200;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLENNIA\t\t= 0x400;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DEFAULTS\t\t= YEARS|MONTHS|DAYS|HOURS|MINUTES|SECONDS;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLISECONDS_PER_SECOND = 1000;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar SECONDS_PER_MINUTE = 60;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MINUTES_PER_HOUR = 60;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar HOURS_PER_DAY = 24;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MILLISECONDS_PER_DAY = HOURS_PER_DAY * MINUTES_PER_HOUR * SECONDS_PER_MINUTE * MILLISECONDS_PER_SECOND;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DAYS_PER_WEEK = 7;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar MONTHS_PER_YEAR = 12;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar YEARS_PER_DECADE = 10;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar DECADES_PER_CENTURY = 10;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar CENTURIES_PER_MILLENNIUM = 10;\n\n\t/**\n\t * @private\n\t * @param {number} x number\n\t * @return {number}\n\t */\n\tvar ceil = Math.ceil;\n\n\t/**\n\t * @private\n\t * @param {number} x number\n\t * @return {number}\n\t */\n\tvar floor = Math.floor;\n\n\t/**\n\t * @private\n\t * @param {Date} ref reference date\n\t * @param {number} shift number of months to shift\n\t * @return {number} number of days shifted\n\t */\n\tfunction borrowMonths(ref, shift) {\n\t\tvar prevTime = ref.getTime();\n\n\t\t// increment month by shift\n\t\tref.setMonth( ref.getMonth() + shift );\n\n\t\t// this is the trickiest since months vary in length\n\t\treturn Math.round( (ref.getTime() - prevTime) / MILLISECONDS_PER_DAY );\n\t}\n\n\t/**\n\t * @private\n\t * @param {Date} ref reference date\n\t * @return {number} number of days\n\t */\n\tfunction daysPerMonth(ref) {\n\t\tvar a = ref.getTime();\n\n\t\t// increment month by 1\n\t\tvar b = new Date(a);\n\t\tb.setMonth( ref.getMonth() + 1 );\n\n\t\t// this is the trickiest since months vary in length\n\t\treturn Math.round( (b.getTime() - a) / MILLISECONDS_PER_DAY );\n\t}\n\n\t/**\n\t * @private\n\t * @param {Date} ref reference date\n\t * @return {number} number of days\n\t */\n\tfunction daysPerYear(ref) {\n\t\tvar a = ref.getTime();\n\n\t\t// increment year by 1\n\t\tvar b = new Date(a);\n\t\tb.setFullYear( ref.getFullYear() + 1 );\n\n\t\t// this is the trickiest since years (periodically) vary in length\n\t\treturn Math.round( (b.getTime() - a) / MILLISECONDS_PER_DAY );\n\t}\n\n\t/**\n\t * Applies the Timespan to the given date.\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {Date=} date\n\t * @return {Date}\n\t */\n\tfunction addToDate(ts, date) {\n\t\tdate = (date instanceof Date) || ((date !== null) && isFinite(date)) ? new Date(+date) : new Date();\n\t\tif (!ts) {\n\t\t\treturn date;\n\t\t}\n\n\t\t// if there is a value field, use it directly\n\t\tvar value = +ts.value || 0;\n\t\tif (value) {\n\t\t\tdate.setTime(date.getTime() + value);\n\t\t\treturn date;\n\t\t}\n\n\t\tvalue = +ts.milliseconds || 0;\n\t\tif (value) {\n\t\t\tdate.setMilliseconds(date.getMilliseconds() + value);\n\t\t}\n\n\t\tvalue = +ts.seconds || 0;\n\t\tif (value) {\n\t\t\tdate.setSeconds(date.getSeconds() + value);\n\t\t}\n\n\t\tvalue = +ts.minutes || 0;\n\t\tif (value) {\n\t\t\tdate.setMinutes(date.getMinutes() + value);\n\t\t}\n\n\t\tvalue = +ts.hours || 0;\n\t\tif (value) {\n\t\t\tdate.setHours(date.getHours() + value);\n\t\t}\n\n\t\tvalue = +ts.weeks || 0;\n\t\tif (value) {\n\t\t\tvalue *= DAYS_PER_WEEK;\n\t\t}\n\n\t\tvalue += +ts.days || 0;\n\t\tif (value) {\n\t\t\tdate.setDate(date.getDate() + value);\n\t\t}\n\n\t\tvalue = +ts.months || 0;\n\t\tif (value) {\n\t\t\tdate.setMonth(date.getMonth() + value);\n\t\t}\n\n\t\tvalue = +ts.millennia || 0;\n\t\tif (value) {\n\t\t\tvalue *= CENTURIES_PER_MILLENNIUM;\n\t\t}\n\n\t\tvalue += +ts.centuries || 0;\n\t\tif (value) {\n\t\t\tvalue *= DECADES_PER_CENTURY;\n\t\t}\n\n\t\tvalue += +ts.decades || 0;\n\t\tif (value) {\n\t\t\tvalue *= YEARS_PER_DECADE;\n\t\t}\n\n\t\tvalue += +ts.years || 0;\n\t\tif (value) {\n\t\t\tdate.setFullYear(date.getFullYear() + value);\n\t\t}\n\n\t\treturn date;\n\t}\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MILLISECONDS\t= 0;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_SECONDS\t\t= 1;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MINUTES\t\t= 2;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_HOURS\t\t\t= 3;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_DAYS\t\t\t= 4;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_WEEKS\t\t\t= 5;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MONTHS\t\t= 6;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_YEARS\t\t\t= 7;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_DECADES\t\t= 8;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_CENTURIES\t\t= 9;\n\n\t/**\n\t * @private\n\t * @const\n\t * @type {number}\n\t */\n\tvar LABEL_MILLENNIA\t\t= 10;\n\n\t/**\n\t * @private\n\t * @type {Array}\n\t */\n\tvar LABELS_SINGLUAR;\n\n\t/**\n\t * @private\n\t * @type {Array}\n\t */\n\tvar LABELS_PLURAL;\n\n\t/**\n\t * @private\n\t * @type {string}\n\t */\n\tvar LABEL_LAST;\n\n\t/**\n\t * @private\n\t * @type {string}\n\t */\n\tvar LABEL_DELIM;\n\n\t/**\n\t * @private\n\t * @type {string}\n\t */\n\tvar LABEL_NOW;\n\n\t/**\n\t * Formats a number & unit as a string\n\t * \n\t * @param {number} value\n\t * @param {number} unit\n\t * @return {string}\n\t */\n\tvar formatter;\n\n\t/**\n\t * Formats a number as a string\n\t * \n\t * @private\n\t * @param {number} value\n\t * @return {string}\n\t */\n\tvar formatNumber;\n\n\t/**\n\t * @private\n\t * @param {number} value\n\t * @param {number} unit unit index into label list\n\t * @return {string}\n\t */\n\tfunction plurality(value, unit) {\n\t\treturn formatNumber(value)+((value === 1) ? LABELS_SINGLUAR[unit] : LABELS_PLURAL[unit]);\n\t}\n\n\t/**\n\t * Formats the entries with singular or plural labels\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @return {Array}\n\t */\n\tvar formatList;\n\n\t/**\n\t * Timespan representation of a duration of time\n\t * \n\t * @private\n\t * @this {Timespan}\n\t * @constructor\n\t */\n\tfunction Timespan() {}\n\n\t/**\n\t * Formats the Timespan as a sentence\n\t * \n\t * @param {string=} emptyLabel the string to use when no values returned\n\t * @return {string}\n\t */\n\tTimespan.prototype.toString = function(emptyLabel) {\n\t\tvar label = formatList(this);\n\n\t\tvar count = label.length;\n\t\tif (!count) {\n\t\t\treturn emptyLabel ? ''+emptyLabel : LABEL_NOW;\n\t\t}\n\t\tif (count === 1) {\n\t\t\treturn label[0];\n\t\t}\n\n\t\tvar last = LABEL_LAST+label.pop();\n\t\treturn label.join(LABEL_DELIM)+last;\n\t};\n\n\t/**\n\t * Formats the Timespan as a sentence in HTML\n\t * \n\t * @param {string=} tag HTML tag name to wrap each value\n\t * @param {string=} emptyLabel the string to use when no values returned\n\t * @return {string}\n\t */\n\tTimespan.prototype.toHTML = function(tag, emptyLabel) {\n\t\ttag = tag || 'span';\n\t\tvar label = formatList(this);\n\n\t\tvar count = label.length;\n\t\tif (!count) {\n\t\t\temptyLabel = emptyLabel || LABEL_NOW;\n\t\t\treturn emptyLabel ? '<'+tag+'>'+emptyLabel+'</'+tag+'>' : emptyLabel;\n\t\t}\n\t\tfor (var i=0; i<count; i++) {\n\t\t\t// wrap each unit in tag\n\t\t\tlabel[i] = '<'+tag+'>'+label[i]+'</'+tag+'>';\n\t\t}\n\t\tif (count === 1) {\n\t\t\treturn label[0];\n\t\t}\n\n\t\tvar last = LABEL_LAST+label.pop();\n\t\treturn label.join(LABEL_DELIM)+last;\n\t};\n\n\t/**\n\t * Applies the Timespan to the given date\n\t * \n\t * @param {Date=} date the date to which the timespan is added.\n\t * @return {Date}\n\t */\n\tTimespan.prototype.addTo = function(date) {\n\t\treturn addToDate(this, date);\n\t};\n\n\t/**\n\t * Formats the entries as English labels\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @return {Array}\n\t */\n\tformatList = function(ts) {\n\t\tvar list = [];\n\n\t\tvar value = ts.millennia;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MILLENNIA));\n\t\t}\n\n\t\tvalue = ts.centuries;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_CENTURIES));\n\t\t}\n\n\t\tvalue = ts.decades;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_DECADES));\n\t\t}\n\n\t\tvalue = ts.years;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_YEARS));\n\t\t}\n\n\t\tvalue = ts.months;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MONTHS));\n\t\t}\n\n\t\tvalue = ts.weeks;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_WEEKS));\n\t\t}\n\n\t\tvalue = ts.days;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_DAYS));\n\t\t}\n\n\t\tvalue = ts.hours;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_HOURS));\n\t\t}\n\n\t\tvalue = ts.minutes;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MINUTES));\n\t\t}\n\n\t\tvalue = ts.seconds;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_SECONDS));\n\t\t}\n\n\t\tvalue = ts.milliseconds;\n\t\tif (value) {\n\t\t\tlist.push(formatter(value, LABEL_MILLISECONDS));\n\t\t}\n\n\t\treturn list;\n\t};\n\n\t/**\n\t * Borrow any underflow units, carry any overflow units\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {string} toUnit\n\t */\n\tfunction rippleRounded(ts, toUnit) {\n\t\tswitch (toUnit) {\n\t\t\tcase 'seconds':\n\t\t\t\tif (ts.seconds !== SECONDS_PER_MINUTE || isNaN(ts.minutes)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple seconds up to minutes\n\t\t\t\tts.minutes++;\n\t\t\t\tts.seconds = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'minutes':\n\t\t\t\tif (ts.minutes !== MINUTES_PER_HOUR || isNaN(ts.hours)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple minutes up to hours\n\t\t\t\tts.hours++;\n\t\t\t\tts.minutes = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'hours':\n\t\t\t\tif (ts.hours !== HOURS_PER_DAY || isNaN(ts.days)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple hours up to days\n\t\t\t\tts.days++;\n\t\t\t\tts.hours = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'days':\n\t\t\t\tif (ts.days !== DAYS_PER_WEEK || isNaN(ts.weeks)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple days up to weeks\n\t\t\t\tts.weeks++;\n\t\t\t\tts.days = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'weeks':\n\t\t\t\tif (ts.weeks !== daysPerMonth(ts.refMonth)/DAYS_PER_WEEK || isNaN(ts.months)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple weeks up to months\n\t\t\t\tts.months++;\n\t\t\t\tts.weeks = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'months':\n\t\t\t\tif (ts.months !== MONTHS_PER_YEAR || isNaN(ts.years)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple months up to years\n\t\t\t\tts.years++;\n\t\t\t\tts.months = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'years':\n\t\t\t\tif (ts.years !== YEARS_PER_DECADE || isNaN(ts.decades)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple years up to decades\n\t\t\t\tts.decades++;\n\t\t\t\tts.years = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'decades':\n\t\t\t\tif (ts.decades !== DECADES_PER_CENTURY || isNaN(ts.centuries)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple decades up to centuries\n\t\t\t\tts.centuries++;\n\t\t\t\tts.decades = 0;\n\n\t\t\t\t/* falls through */\n\t\t\tcase 'centuries':\n\t\t\t\tif (ts.centuries !== CENTURIES_PER_MILLENNIUM || isNaN(ts.millennia)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ripple centuries up to millennia\n\t\t\t\tts.millennia++;\n\t\t\t\tts.centuries = 0;\n\t\t\t\t/* falls through */\n\t\t\t}\n\t}\n\n\t/**\n\t * Ripple up partial units one place\n\t * \n\t * @private\n\t * @param {Timespan} ts timespan\n\t * @param {number} frac accumulated fractional value\n\t * @param {string} fromUnit source unit name\n\t * @param {string} toUnit target unit name\n\t * @param {number} conversion multiplier between units\n\t * @param {number} digits max number of decimal digits to output\n\t * @return {number} new fractional value\n\t */\n\tfunction fraction(ts, frac, fromUnit, toUnit, conversion, digits) {\n\t\tif (ts[fromUnit] >= 0) {\n\t\t\tfrac += ts[fromUnit];\n\t\t\tdelete ts[fromUnit];\n\t\t}\n\n\t\tfrac /= conversion;\n\t\tif (frac + 1 <= 1) {\n\t\t\t// drop if below machine epsilon\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (ts[toUnit] >= 0) {\n\t\t\t// ensure does not have more than specified number of digits\n\t\t\tts[toUnit] = +(ts[toUnit] + frac).toFixed(digits);\n\t\t\trippleRounded(ts, toUnit);\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn frac;\n\t}\n\n\t/**\n\t * Ripple up partial units to next existing\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {number} digits max number of decimal digits to output\n\t */\n\tfunction fractional(ts, digits) {\n\t\tvar frac = fraction(ts, 0, 'milliseconds', 'seconds', MILLISECONDS_PER_SECOND, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'seconds', 'minutes', SECONDS_PER_MINUTE, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'minutes', 'hours', MINUTES_PER_HOUR, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'hours', 'days', HOURS_PER_DAY, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'days', 'weeks', DAYS_PER_WEEK, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'weeks', 'months', daysPerMonth(ts.refMonth)/DAYS_PER_WEEK, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'months', 'years', daysPerYear(ts.refMonth)/daysPerMonth(ts.refMonth), digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'years', 'decades', YEARS_PER_DECADE, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'decades', 'centuries', DECADES_PER_CENTURY, digits);\n\t\tif (!frac) { return; }\n\n\t\tfrac = fraction(ts, frac, 'centuries', 'millennia', CENTURIES_PER_MILLENNIUM, digits);\n\n\t\t// should never reach this with remaining fractional value\n\t\tif (frac) { throw new Error('Fractional unit overflow'); }\n\t}\n\n\t/**\n\t * Borrow any underflow units, carry any overflow units\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t */\n\tfunction ripple(ts) {\n\t\tvar x;\n\n\t\tif (ts.milliseconds < 0) {\n\t\t\t// ripple seconds down to milliseconds\n\t\t\tx = ceil(-ts.milliseconds / MILLISECONDS_PER_SECOND);\n\t\t\tts.seconds -= x;\n\t\t\tts.milliseconds += x * MILLISECONDS_PER_SECOND;\n\n\t\t} else if (ts.milliseconds >= MILLISECONDS_PER_SECOND) {\n\t\t\t// ripple milliseconds up to seconds\n\t\t\tts.seconds += floor(ts.milliseconds / MILLISECONDS_PER_SECOND);\n\t\t\tts.milliseconds %= MILLISECONDS_PER_SECOND;\n\t\t}\n\n\t\tif (ts.seconds < 0) {\n\t\t\t// ripple minutes down to seconds\n\t\t\tx = ceil(-ts.seconds / SECONDS_PER_MINUTE);\n\t\t\tts.minutes -= x;\n\t\t\tts.seconds += x * SECONDS_PER_MINUTE;\n\n\t\t} else if (ts.seconds >= SECONDS_PER_MINUTE) {\n\t\t\t// ripple seconds up to minutes\n\t\t\tts.minutes += floor(ts.seconds / SECONDS_PER_MINUTE);\n\t\t\tts.seconds %= SECONDS_PER_MINUTE;\n\t\t}\n\n\t\tif (ts.minutes < 0) {\n\t\t\t// ripple hours down to minutes\n\t\t\tx = ceil(-ts.minutes / MINUTES_PER_HOUR);\n\t\t\tts.hours -= x;\n\t\t\tts.minutes += x * MINUTES_PER_HOUR;\n\n\t\t} else if (ts.minutes >= MINUTES_PER_HOUR) {\n\t\t\t// ripple minutes up to hours\n\t\t\tts.hours += floor(ts.minutes / MINUTES_PER_HOUR);\n\t\t\tts.minutes %= MINUTES_PER_HOUR;\n\t\t}\n\n\t\tif (ts.hours < 0) {\n\t\t\t// ripple days down to hours\n\t\t\tx = ceil(-ts.hours / HOURS_PER_DAY);\n\t\t\tts.days -= x;\n\t\t\tts.hours += x * HOURS_PER_DAY;\n\n\t\t} else if (ts.hours >= HOURS_PER_DAY) {\n\t\t\t// ripple hours up to days\n\t\t\tts.days += floor(ts.hours / HOURS_PER_DAY);\n\t\t\tts.hours %= HOURS_PER_DAY;\n\t\t}\n\n\t\twhile (ts.days < 0) {\n\t\t\t// NOTE: never actually seen this loop more than once\n\n\t\t\t// ripple months down to days\n\t\t\tts.months--;\n\t\t\tts.days += borrowMonths(ts.refMonth, 1);\n\t\t}\n\n\t\t// weeks is always zero here\n\n\t\tif (ts.days >= DAYS_PER_WEEK) {\n\t\t\t// ripple days up to weeks\n\t\t\tts.weeks += floor(ts.days / DAYS_PER_WEEK);\n\t\t\tts.days %= DAYS_PER_WEEK;\n\t\t}\n\n\t\tif (ts.months < 0) {\n\t\t\t// ripple years down to months\n\t\t\tx = ceil(-ts.months / MONTHS_PER_YEAR);\n\t\t\tts.years -= x;\n\t\t\tts.months += x * MONTHS_PER_YEAR;\n\n\t\t} else if (ts.months >= MONTHS_PER_YEAR) {\n\t\t\t// ripple months up to years\n\t\t\tts.years += floor(ts.months / MONTHS_PER_YEAR);\n\t\t\tts.months %= MONTHS_PER_YEAR;\n\t\t}\n\n\t\t// years is always non-negative here\n\t\t// decades, centuries and millennia are always zero here\n\n\t\tif (ts.years >= YEARS_PER_DECADE) {\n\t\t\t// ripple years up to decades\n\t\t\tts.decades += floor(ts.years / YEARS_PER_DECADE);\n\t\t\tts.years %= YEARS_PER_DECADE;\n\n\t\t\tif (ts.decades >= DECADES_PER_CENTURY) {\n\t\t\t\t// ripple decades up to centuries\n\t\t\t\tts.centuries += floor(ts.decades / DECADES_PER_CENTURY);\n\t\t\t\tts.decades %= DECADES_PER_CENTURY;\n\n\t\t\t\tif (ts.centuries >= CENTURIES_PER_MILLENNIUM) {\n\t\t\t\t\t// ripple centuries up to millennia\n\t\t\t\t\tts.millennia += floor(ts.centuries / CENTURIES_PER_MILLENNIUM);\n\t\t\t\t\tts.centuries %= CENTURIES_PER_MILLENNIUM;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Remove any units not requested\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {number} units the units to populate\n\t * @param {number} max number of labels to output\n\t * @param {number} digits max number of decimal digits to output\n\t */\n\tfunction pruneUnits(ts, units, max, digits) {\n\t\tvar count = 0;\n\n\t\t// Calc from largest unit to smallest to prevent underflow\n\t\tif (!(units & MILLENNIA) || (count >= max)) {\n\t\t\t// ripple millennia down to centuries\n\t\t\tts.centuries += ts.millennia * CENTURIES_PER_MILLENNIUM;\n\t\t\tdelete ts.millennia;\n\n\t\t} else if (ts.millennia) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & CENTURIES) || (count >= max)) {\n\t\t\t// ripple centuries down to decades\n\t\t\tts.decades += ts.centuries * DECADES_PER_CENTURY;\n\t\t\tdelete ts.centuries;\n\n\t\t} else if (ts.centuries) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & DECADES) || (count >= max)) {\n\t\t\t// ripple decades down to years\n\t\t\tts.years += ts.decades * YEARS_PER_DECADE;\n\t\t\tdelete ts.decades;\n\n\t\t} else if (ts.decades) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & YEARS) || (count >= max)) {\n\t\t\t// ripple years down to months\n\t\t\tts.months += ts.years * MONTHS_PER_YEAR;\n\t\t\tdelete ts.years;\n\n\t\t} else if (ts.years) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & MONTHS) || (count >= max)) {\n\t\t\t// ripple months down to days\n\t\t\tif (ts.months) {\n\t\t\t\tts.days += borrowMonths(ts.refMonth, ts.months);\n\t\t\t}\n\t\t\tdelete ts.months;\n\n\t\t\tif (ts.days >= DAYS_PER_WEEK) {\n\t\t\t\t// ripple day overflow back up to weeks\n\t\t\t\tts.weeks += floor(ts.days / DAYS_PER_WEEK);\n\t\t\t\tts.days %= DAYS_PER_WEEK;\n\t\t\t}\n\n\t\t} else if (ts.months) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & WEEKS) || (count >= max)) {\n\t\t\t// ripple weeks down to days\n\t\t\tts.days += ts.weeks * DAYS_PER_WEEK;\n\t\t\tdelete ts.weeks;\n\n\t\t} else if (ts.weeks) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & DAYS) || (count >= max)) {\n\t\t\t//ripple days down to hours\n\t\t\tts.hours += ts.days * HOURS_PER_DAY;\n\t\t\tdelete ts.days;\n\n\t\t} else if (ts.days) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & HOURS) || (count >= max)) {\n\t\t\t// ripple hours down to minutes\n\t\t\tts.minutes += ts.hours * MINUTES_PER_HOUR;\n\t\t\tdelete ts.hours;\n\n\t\t} else if (ts.hours) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & MINUTES) || (count >= max)) {\n\t\t\t// ripple minutes down to seconds\n\t\t\tts.seconds += ts.minutes * SECONDS_PER_MINUTE;\n\t\t\tdelete ts.minutes;\n\n\t\t} else if (ts.minutes) {\n\t\t\tcount++;\n\t\t}\n\n\t\tif (!(units & SECONDS) || (count >= max)) {\n\t\t\t// ripple seconds down to milliseconds\n\t\t\tts.milliseconds += ts.seconds * MILLISECONDS_PER_SECOND;\n\t\t\tdelete ts.seconds;\n\n\t\t} else if (ts.seconds) {\n\t\t\tcount++;\n\t\t}\n\n\t\t// nothing to ripple milliseconds down to\n\t\t// so ripple back up to smallest existing unit as a fractional value\n\t\tif (!(units & MILLISECONDS) || (count >= max)) {\n\t\t\tfractional(ts, digits);\n\t\t}\n\t}\n\n\t/**\n\t * Populates the Timespan object\n\t * \n\t * @private\n\t * @param {Timespan} ts\n\t * @param {?Date} start the starting date\n\t * @param {?Date} end the ending date\n\t * @param {number} units the units to populate\n\t * @param {number} max number of labels to output\n\t * @param {number} digits max number of decimal digits to output\n\t */\n\tfunction populate(ts, start, end, units, max, digits) {\n\t\tvar now = new Date();\n\n\t\tts.start = start = start || now;\n\t\tts.end = end = end || now;\n\t\tts.units = units;\n\n\t\tts.value = end.getTime() - start.getTime();\n\t\tif (ts.value < 0) {\n\t\t\t// swap if reversed\n\t\t\tvar tmp = end;\n\t\t\tend = start;\n\t\t\tstart = tmp;\n\t\t}\n\n\t\t// reference month for determining days in month\n\t\tts.refMonth = new Date(start.getFullYear(), start.getMonth(), 15, 12, 0, 0);\n\t\ttry {\n\t\t\t// reset to initial deltas\n\t\t\tts.millennia = 0;\n\t\t\tts.centuries = 0;\n\t\t\tts.decades = 0;\n\t\t\tts.years = end.getFullYear() - start.getFullYear();\n\t\t\tts.months = end.getMonth() - start.getMonth();\n\t\t\tts.weeks = 0;\n\t\t\tts.days = end.getDate() - start.getDate();\n\t\t\tts.hours = end.getHours() - start.getHours();\n\t\t\tts.minutes = end.getMinutes() - start.getMinutes();\n\t\t\tts.seconds = end.getSeconds() - start.getSeconds();\n\t\t\tts.milliseconds = end.getMilliseconds() - start.getMilliseconds();\n\n\t\t\tripple(ts);\n\t\t\tpruneUnits(ts, units, max, digits);\n\n\t\t} finally {\n\t\t\tdelete ts.refMonth;\n\t\t}\n\n\t\treturn ts;\n\t}\n\n\t/**\n\t * Determine an appropriate refresh rate based upon units\n\t * \n\t * @private\n\t * @param {number} units the units to populate\n\t * @return {number} milliseconds to delay\n\t */\n\tfunction getDelay(units) {\n\t\tif (units & MILLISECONDS) {\n\t\t\t// refresh very quickly\n\t\t\treturn MILLISECONDS_PER_SECOND / 30; //30Hz\n\t\t}\n\n\t\tif (units & SECONDS) {\n\t\t\t// refresh every second\n\t\t\treturn MILLISECONDS_PER_SECOND; //1Hz\n\t\t}\n\n\t\tif (units & MINUTES) {\n\t\t\t// refresh every minute\n\t\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE;\n\t\t}\n\n\t\tif (units & HOURS) {\n\t\t\t// refresh hourly\n\t\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE * MINUTES_PER_HOUR;\n\t\t}\n\t\t\n\t\tif (units & DAYS) {\n\t\t\t// refresh daily\n\t\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE * MINUTES_PER_HOUR * HOURS_PER_DAY;\n\t\t}\n\n\t\t// refresh the rest weekly\n\t\treturn MILLISECONDS_PER_SECOND * SECONDS_PER_MINUTE * MINUTES_PER_HOUR * HOURS_PER_DAY * DAYS_PER_WEEK;\n\t}\n\n\t/**\n\t * API entry point\n\t * \n\t * @public\n\t * @param {Date|number|Timespan|null|function(Timespan,number)} start the starting date\n\t * @param {Date|number|Timespan|null|function(Timespan,number)} end the ending date\n\t * @param {number=} units the units to populate\n\t * @param {number=} max number of labels to output\n\t * @param {number=} digits max number of decimal digits to output\n\t * @return {Timespan|number}\n\t */\n\tfunction countdown(start, end, units, max, digits) {\n\t\tvar callback;\n\n\t\t// ensure some units or use defaults\n\t\tunits = +units || DEFAULTS;\n\t\t// max must be positive\n\t\tmax = (max > 0) ? max : NaN;\n\t\t// clamp digits to an integer between [0, 20]\n\t\tdigits = (digits > 0) ? (digits < 20) ? Math.round(digits) : 20 : 0;\n\n\t\t// ensure start date\n\t\tvar startTS = null;\n\t\tif ('function' === typeof start) {\n\t\t\tcallback = start;\n\t\t\tstart = null;\n\n\t\t} else if (!(start instanceof Date)) {\n\t\t\tif ((start !== null) && isFinite(start)) {\n\t\t\t\tstart = new Date(+start);\n\t\t\t} else {\n\t\t\t\tif ('object' === typeof startTS) {\n\t\t\t\t\tstartTS = /** @type{Timespan} */(start);\n\t\t\t\t}\n\t\t\t\tstart = null;\n\t\t\t}\n\t\t}\n\n\t\t// ensure end date\n\t\tvar endTS = null;\n\t\tif ('function' === typeof end) {\n\t\t\tcallback = end;\n\t\t\tend = null;\n\n\t\t} else if (!(end instanceof Date)) {\n\t\t\tif ((end !== null) && isFinite(end)) {\n\t\t\t\tend = new Date(+end);\n\t\t\t} else {\n\t\t\t\tif ('object' === typeof end) {\n\t\t\t\t\tendTS = /** @type{Timespan} */(end);\n\t\t\t\t}\n\t\t\t\tend = null;\n\t\t\t}\n\t\t}\n\n\t\t// must wait to interpret timespans until after resolving dates\n\t\tif (startTS) {\n\t\t\tstart = addToDate(startTS, end);\n\t\t}\n\t\tif (endTS) {\n\t\t\tend = addToDate(endTS, start);\n\t\t}\n\n\t\tif (!start && !end) {\n\t\t\t// used for unit testing\n\t\t\treturn new Timespan();\n\t\t}\n\n\t\tif (!callback) {\n\t\t\treturn populate(new Timespan(), /** @type{Date} */(start), /** @type{Date} */(end), /** @type{number} */(units), /** @type{number} */(max), /** @type{number} */(digits));\n\t\t}\n\n\t\t// base delay off units\n\t\tvar delay = getDelay(units),\n\t\t\ttimerId,\n\t\t\tfn = function() {\n\t\t\t\tcallback(\n\t\t\t\t\tpopulate(new Timespan(), /** @type{Date} */(start), /** @type{Date} */(end), /** @type{number} */(units), /** @type{number} */(max), /** @type{number} */(digits)),\n\t\t\t\t\ttimerId\n\t\t\t\t);\n\t\t\t};\n\n\t\tfn();\n\t\treturn (timerId = setInterval(fn, delay));\n\t}\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MILLISECONDS = MILLISECONDS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.SECONDS = SECONDS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MINUTES = MINUTES;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.HOURS = HOURS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.DAYS = DAYS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.WEEKS = WEEKS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MONTHS = MONTHS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.YEARS = YEARS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.DECADES = DECADES;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.CENTURIES = CENTURIES;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.MILLENNIA = MILLENNIA;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.DEFAULTS = DEFAULTS;\n\n\t/**\n\t * @public\n\t * @const\n\t * @type {number}\n\t */\n\tcountdown.ALL = MILLENNIA|CENTURIES|DECADES|YEARS|MONTHS|WEEKS|DAYS|HOURS|MINUTES|SECONDS|MILLISECONDS;\n\n\t/**\n\t * Customize the format settings.\n\t * @public\n\t * @param {Object} format settings object\n\t */\n\tvar setFormat = countdown.setFormat = function(format) {\n\t\tif (!format) { return; }\n\n\t\tif ('singular' in format || 'plural' in format) {\n\t\t\tvar singular = format.singular || [];\n\t\t\tif (singular.split) {\n\t\t\t\tsingular = singular.split('|');\n\t\t\t}\n\t\t\tvar plural = format.plural || [];\n\t\t\tif (plural.split) {\n\t\t\t\tplural = plural.split('|');\n\t\t\t}\n\n\t\t\tfor (var i=LABEL_MILLISECONDS; i<=LABEL_MILLENNIA; i++) {\n\t\t\t\t// override any specified units\n\t\t\t\tLABELS_SINGLUAR[i] = singular[i] || LABELS_SINGLUAR[i];\n\t\t\t\tLABELS_PLURAL[i] = plural[i] || LABELS_PLURAL[i];\n\t\t\t}\n\t\t}\n\n\t\tif ('string' === typeof format.last) {\n\t\t\tLABEL_LAST = format.last;\n\t\t}\n\t\tif ('string' === typeof format.delim) {\n\t\t\tLABEL_DELIM = format.delim;\n\t\t}\n\t\tif ('string' === typeof format.empty) {\n\t\t\tLABEL_NOW = format.empty;\n\t\t}\n\t\tif ('function' === typeof format.formatNumber) {\n\t\t\tformatNumber = format.formatNumber;\n\t\t}\n\t\tif ('function' === typeof format.formatter) {\n\t\t\tformatter = format.formatter;\n\t\t}\n\t};\n\n\t/**\n\t * Revert to the default formatting.\n\t * @public\n\t */\n\tvar resetFormat = countdown.resetFormat = function() {\n\t\tLABELS_SINGLUAR = ' millisecond| second| minute| hour| day| week| month| year| decade| century| millennium'.split('|');\n\t\tLABELS_PLURAL = ' milliseconds| seconds| minutes| hours| days| weeks| months| years| decades| centuries| millennia'.split('|');\n\t\tLABEL_LAST = ' and ';\n\t\tLABEL_DELIM = ', ';\n\t\tLABEL_NOW = '';\n\t\tformatNumber = function(value) { return value; };\n\t\tformatter = plurality;\n\t};\n\n\t/**\n\t * Override the unit labels.\n\t * @public\n\t * @param {string|Array=} singular a pipe ('|') delimited list of singular unit name overrides\n\t * @param {string|Array=} plural a pipe ('|') delimited list of plural unit name overrides\n\t * @param {string=} last a delimiter before the last unit (default: ' and ')\n\t * @param {string=} delim a delimiter to use between all other units (default: ', ')\n\t * @param {string=} empty a label to use when all units are zero (default: '')\n\t * @param {function(number):string=} formatNumber a function which formats numbers as a string\n\t * @param {function(number,number):string=} formatter a function which formats a number/unit pair as a string\n\t * @deprecated since version 2.6.0\n\t */\n\tcountdown.setLabels = function(singular, plural, last, delim, empty, formatNumber, formatter) {\n\t\tsetFormat({\n\t\t\tsingular: singular,\n\t\t\tplural: plural,\n\t\t\tlast: last,\n\t\t\tdelim: delim,\n\t\t\tempty: empty,\n\t\t\tformatNumber: formatNumber,\n\t\t\tformatter: formatter\n\t\t});\n\t};\n\n\t/**\n\t * Revert to the default unit labels.\n\t * @public\n\t * @deprecated since version 2.6.0\n\t */\n\tcountdown.resetLabels = resetFormat;\n\n\tresetFormat();\n\n\tif (module && module.exports) {\n\t\tmodule.exports = countdown;\n\n\t} else if (typeof window.define === 'function' && typeof window.define.amd !== 'undefined') {\n\t\twindow.define('countdown', [], function() {\n\t\t\treturn countdown;\n\t\t});\n\t}\n\n\treturn countdown;\n\n})(module);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY291bnRkb3duL2NvdW50ZG93bi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3VudGRvd24vY291bnRkb3duLmpzP2YxOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgd2luZG93ICovXG4vKipcbiAqIEBsaWNlbnNlIGNvdW50ZG93bi5qcyB2Mi42LjAgaHR0cDovL2NvdW50ZG93bmpzLm9yZ1xuICogQ29weXJpZ2h0IChjKTIwMDYtMjAxNCBTdGVwaGVuIE0uIE1jS2FtZXkuXG4gKiBMaWNlbnNlZCB1bmRlciBUaGUgTUlUIExpY2Vuc2UuXG4gKi9cbi8qanNoaW50IGJpdHdpc2U6ZmFsc2UgKi9cblxuLyoqXG4gKiBAcHVibGljXG4gKiBAdHlwZSB7T2JqZWN0fG51bGx9XG4gKi9cbnZhciBtb2R1bGU7XG5cbi8qKlxuICogQVBJIGVudHJ5XG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCl8RGF0ZXxudW1iZXJ9IHN0YXJ0IHRoZSBzdGFydGluZyBkYXRlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCl8RGF0ZXxudW1iZXJ9IGVuZCB0aGUgZW5kaW5nIGRhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB1bml0cyB0aGUgdW5pdHMgdG8gcG9wdWxhdGVcbiAqIEByZXR1cm4ge09iamVjdHxudW1iZXJ9XG4gKi9cbnZhciBjb3VudGRvd24gPSAoXG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IG1vZHVsZSBDb21tb25KUyBNb2R1bGVcbiAqL1xuZnVuY3Rpb24obW9kdWxlKSB7XG5cdC8qanNoaW50IHNtYXJ0dGFiczp0cnVlICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBNSUxMSVNFQ09ORFNcdD0gMHgwMDE7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIFNFQ09ORFNcdFx0XHQ9IDB4MDAyO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBNSU5VVEVTXHRcdFx0PSAweDAwNDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgSE9VUlNcdFx0XHQ9IDB4MDA4O1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBEQVlTXHRcdFx0PSAweDAxMDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgV0VFS1NcdFx0XHQ9IDB4MDIwO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBNT05USFNcdFx0XHQ9IDB4MDQwO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBZRUFSU1x0XHRcdD0gMHgwODA7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIERFQ0FERVNcdFx0XHQ9IDB4MTAwO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBDRU5UVVJJRVNcdFx0PSAweDIwMDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTUlMTEVOTklBXHRcdD0gMHg0MDA7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIERFRkFVTFRTXHRcdD0gWUVBUlN8TU9OVEhTfERBWVN8SE9VUlN8TUlOVVRFU3xTRUNPTkRTO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCA9IDEwMDA7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIFNFQ09ORFNfUEVSX01JTlVURSA9IDYwO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBNSU5VVEVTX1BFUl9IT1VSID0gNjA7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIEhPVVJTX1BFUl9EQVkgPSAyNDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTUlMTElTRUNPTkRTX1BFUl9EQVkgPSBIT1VSU19QRVJfREFZICogTUlOVVRFU19QRVJfSE9VUiAqIFNFQ09ORFNfUEVSX01JTlVURSAqIE1JTExJU0VDT05EU19QRVJfU0VDT05EO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBEQVlTX1BFUl9XRUVLID0gNztcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTU9OVEhTX1BFUl9ZRUFSID0gMTI7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIFlFQVJTX1BFUl9ERUNBREUgPSAxMDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgREVDQURFU19QRVJfQ0VOVFVSWSA9IDEwO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBDRU5UVVJJRVNfUEVSX01JTExFTk5JVU0gPSAxMDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IHggbnVtYmVyXG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICovXG5cdHZhciBjZWlsID0gTWF0aC5jZWlsO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge251bWJlcn0geCBudW1iZXJcblx0ICogQHJldHVybiB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtEYXRlfSByZWYgcmVmZXJlbmNlIGRhdGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNoaWZ0IG51bWJlciBvZiBtb250aHMgdG8gc2hpZnRcblx0ICogQHJldHVybiB7bnVtYmVyfSBudW1iZXIgb2YgZGF5cyBzaGlmdGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBib3Jyb3dNb250aHMocmVmLCBzaGlmdCkge1xuXHRcdHZhciBwcmV2VGltZSA9IHJlZi5nZXRUaW1lKCk7XG5cblx0XHQvLyBpbmNyZW1lbnQgbW9udGggYnkgc2hpZnRcblx0XHRyZWYuc2V0TW9udGgoIHJlZi5nZXRNb250aCgpICsgc2hpZnQgKTtcblxuXHRcdC8vIHRoaXMgaXMgdGhlIHRyaWNraWVzdCBzaW5jZSBtb250aHMgdmFyeSBpbiBsZW5ndGhcblx0XHRyZXR1cm4gTWF0aC5yb3VuZCggKHJlZi5nZXRUaW1lKCkgLSBwcmV2VGltZSkgLyBNSUxMSVNFQ09ORFNfUEVSX0RBWSApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7RGF0ZX0gcmVmIHJlZmVyZW5jZSBkYXRlXG5cdCAqIEByZXR1cm4ge251bWJlcn0gbnVtYmVyIG9mIGRheXNcblx0ICovXG5cdGZ1bmN0aW9uIGRheXNQZXJNb250aChyZWYpIHtcblx0XHR2YXIgYSA9IHJlZi5nZXRUaW1lKCk7XG5cblx0XHQvLyBpbmNyZW1lbnQgbW9udGggYnkgMVxuXHRcdHZhciBiID0gbmV3IERhdGUoYSk7XG5cdFx0Yi5zZXRNb250aCggcmVmLmdldE1vbnRoKCkgKyAxICk7XG5cblx0XHQvLyB0aGlzIGlzIHRoZSB0cmlja2llc3Qgc2luY2UgbW9udGhzIHZhcnkgaW4gbGVuZ3RoXG5cdFx0cmV0dXJuIE1hdGgucm91bmQoIChiLmdldFRpbWUoKSAtIGEpIC8gTUlMTElTRUNPTkRTX1BFUl9EQVkgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0RhdGV9IHJlZiByZWZlcmVuY2UgZGF0ZVxuXHQgKiBAcmV0dXJuIHtudW1iZXJ9IG51bWJlciBvZiBkYXlzXG5cdCAqL1xuXHRmdW5jdGlvbiBkYXlzUGVyWWVhcihyZWYpIHtcblx0XHR2YXIgYSA9IHJlZi5nZXRUaW1lKCk7XG5cblx0XHQvLyBpbmNyZW1lbnQgeWVhciBieSAxXG5cdFx0dmFyIGIgPSBuZXcgRGF0ZShhKTtcblx0XHRiLnNldEZ1bGxZZWFyKCByZWYuZ2V0RnVsbFllYXIoKSArIDEgKTtcblxuXHRcdC8vIHRoaXMgaXMgdGhlIHRyaWNraWVzdCBzaW5jZSB5ZWFycyAocGVyaW9kaWNhbGx5KSB2YXJ5IGluIGxlbmd0aFxuXHRcdHJldHVybiBNYXRoLnJvdW5kKCAoYi5nZXRUaW1lKCkgLSBhKSAvIE1JTExJU0VDT05EU19QRVJfREFZICk7XG5cdH1cblxuXHQvKipcblx0ICogQXBwbGllcyB0aGUgVGltZXNwYW4gdG8gdGhlIGdpdmVuIGRhdGUuXG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1RpbWVzcGFufSB0c1xuXHQgKiBAcGFyYW0ge0RhdGU9fSBkYXRlXG5cdCAqIEByZXR1cm4ge0RhdGV9XG5cdCAqL1xuXHRmdW5jdGlvbiBhZGRUb0RhdGUodHMsIGRhdGUpIHtcblx0XHRkYXRlID0gKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSB8fCAoKGRhdGUgIT09IG51bGwpICYmIGlzRmluaXRlKGRhdGUpKSA/IG5ldyBEYXRlKCtkYXRlKSA6IG5ldyBEYXRlKCk7XG5cdFx0aWYgKCF0cykge1xuXHRcdFx0cmV0dXJuIGRhdGU7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgdGhlcmUgaXMgYSB2YWx1ZSBmaWVsZCwgdXNlIGl0IGRpcmVjdGx5XG5cdFx0dmFyIHZhbHVlID0gK3RzLnZhbHVlIHx8IDA7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyB2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gZGF0ZTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9ICt0cy5taWxsaXNlY29uZHMgfHwgMDtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGRhdGUuc2V0TWlsbGlzZWNvbmRzKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgKyB2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0dmFsdWUgPSArdHMuc2Vjb25kcyB8fCAwO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0ZGF0ZS5zZXRTZWNvbmRzKGRhdGUuZ2V0U2Vjb25kcygpICsgdmFsdWUpO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gK3RzLm1pbnV0ZXMgfHwgMDtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIHZhbHVlKTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9ICt0cy5ob3VycyB8fCAwO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0ZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgKyB2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0dmFsdWUgPSArdHMud2Vla3MgfHwgMDtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHZhbHVlICo9IERBWVNfUEVSX1dFRUs7XG5cdFx0fVxuXG5cdFx0dmFsdWUgKz0gK3RzLmRheXMgfHwgMDtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIHZhbHVlKTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9ICt0cy5tb250aHMgfHwgMDtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgdmFsdWUpO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gK3RzLm1pbGxlbm5pYSB8fCAwO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0dmFsdWUgKj0gQ0VOVFVSSUVTX1BFUl9NSUxMRU5OSVVNO1xuXHRcdH1cblxuXHRcdHZhbHVlICs9ICt0cy5jZW50dXJpZXMgfHwgMDtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHZhbHVlICo9IERFQ0FERVNfUEVSX0NFTlRVUlk7XG5cdFx0fVxuXG5cdFx0dmFsdWUgKz0gK3RzLmRlY2FkZXMgfHwgMDtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHZhbHVlICo9IFlFQVJTX1BFUl9ERUNBREU7XG5cdFx0fVxuXG5cdFx0dmFsdWUgKz0gK3RzLnllYXJzIHx8IDA7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRkYXRlLnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSArIHZhbHVlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBMQUJFTF9NSUxMSVNFQ09ORFNcdD0gMDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTEFCRUxfU0VDT05EU1x0XHQ9IDE7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIExBQkVMX01JTlVURVNcdFx0PSAyO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBMQUJFTF9IT1VSU1x0XHRcdD0gMztcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTEFCRUxfREFZU1x0XHRcdD0gNDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTEFCRUxfV0VFS1NcdFx0XHQ9IDU7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIExBQkVMX01PTlRIU1x0XHQ9IDY7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIExBQkVMX1lFQVJTXHRcdFx0PSA3O1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdHZhciBMQUJFTF9ERUNBREVTXHRcdD0gODtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTEFCRUxfQ0VOVFVSSUVTXHRcdD0gOTtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgTEFCRUxfTUlMTEVOTklBXHRcdD0gMTA7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICovXG5cdHZhciBMQUJFTFNfU0lOR0xVQVI7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICovXG5cdHZhciBMQUJFTFNfUExVUkFMO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0dmFyIExBQkVMX0xBU1Q7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHR2YXIgTEFCRUxfREVMSU07XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHR2YXIgTEFCRUxfTk9XO1xuXG5cdC8qKlxuXHQgKiBGb3JtYXRzIGEgbnVtYmVyICYgdW5pdCBhcyBhIHN0cmluZ1xuXHQgKiBcblx0ICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB1bml0XG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdHZhciBmb3JtYXR0ZXI7XG5cblx0LyoqXG5cdCAqIEZvcm1hdHMgYSBudW1iZXIgYXMgYSBzdHJpbmdcblx0ICogXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqL1xuXHR2YXIgZm9ybWF0TnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcblx0ICogQHBhcmFtIHtudW1iZXJ9IHVuaXQgdW5pdCBpbmRleCBpbnRvIGxhYmVsIGxpc3Rcblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0ZnVuY3Rpb24gcGx1cmFsaXR5KHZhbHVlLCB1bml0KSB7XG5cdFx0cmV0dXJuIGZvcm1hdE51bWJlcih2YWx1ZSkrKCh2YWx1ZSA9PT0gMSkgPyBMQUJFTFNfU0lOR0xVQVJbdW5pdF0gOiBMQUJFTFNfUExVUkFMW3VuaXRdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGb3JtYXRzIHRoZSBlbnRyaWVzIHdpdGggc2luZ3VsYXIgb3IgcGx1cmFsIGxhYmVsc1xuXHQgKiBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtUaW1lc3Bhbn0gdHNcblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHR2YXIgZm9ybWF0TGlzdDtcblxuXHQvKipcblx0ICogVGltZXNwYW4gcmVwcmVzZW50YXRpb24gb2YgYSBkdXJhdGlvbiBvZiB0aW1lXG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAdGhpcyB7VGltZXNwYW59XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gVGltZXNwYW4oKSB7fVxuXG5cdC8qKlxuXHQgKiBGb3JtYXRzIHRoZSBUaW1lc3BhbiBhcyBhIHNlbnRlbmNlXG5cdCAqIFxuXHQgKiBAcGFyYW0ge3N0cmluZz19IGVtcHR5TGFiZWwgdGhlIHN0cmluZyB0byB1c2Ugd2hlbiBubyB2YWx1ZXMgcmV0dXJuZWRcblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0VGltZXNwYW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oZW1wdHlMYWJlbCkge1xuXHRcdHZhciBsYWJlbCA9IGZvcm1hdExpc3QodGhpcyk7XG5cblx0XHR2YXIgY291bnQgPSBsYWJlbC5sZW5ndGg7XG5cdFx0aWYgKCFjb3VudCkge1xuXHRcdFx0cmV0dXJuIGVtcHR5TGFiZWwgPyAnJytlbXB0eUxhYmVsIDogTEFCRUxfTk9XO1xuXHRcdH1cblx0XHRpZiAoY291bnQgPT09IDEpIHtcblx0XHRcdHJldHVybiBsYWJlbFswXTtcblx0XHR9XG5cblx0XHR2YXIgbGFzdCA9IExBQkVMX0xBU1QrbGFiZWwucG9wKCk7XG5cdFx0cmV0dXJuIGxhYmVsLmpvaW4oTEFCRUxfREVMSU0pK2xhc3Q7XG5cdH07XG5cblx0LyoqXG5cdCAqIEZvcm1hdHMgdGhlIFRpbWVzcGFuIGFzIGEgc2VudGVuY2UgaW4gSFRNTFxuXHQgKiBcblx0ICogQHBhcmFtIHtzdHJpbmc9fSB0YWcgSFRNTCB0YWcgbmFtZSB0byB3cmFwIGVhY2ggdmFsdWVcblx0ICogQHBhcmFtIHtzdHJpbmc9fSBlbXB0eUxhYmVsIHRoZSBzdHJpbmcgdG8gdXNlIHdoZW4gbm8gdmFsdWVzIHJldHVybmVkXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdFRpbWVzcGFuLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbih0YWcsIGVtcHR5TGFiZWwpIHtcblx0XHR0YWcgPSB0YWcgfHwgJ3NwYW4nO1xuXHRcdHZhciBsYWJlbCA9IGZvcm1hdExpc3QodGhpcyk7XG5cblx0XHR2YXIgY291bnQgPSBsYWJlbC5sZW5ndGg7XG5cdFx0aWYgKCFjb3VudCkge1xuXHRcdFx0ZW1wdHlMYWJlbCA9IGVtcHR5TGFiZWwgfHwgTEFCRUxfTk9XO1xuXHRcdFx0cmV0dXJuIGVtcHR5TGFiZWwgPyAnPCcrdGFnKyc+JytlbXB0eUxhYmVsKyc8LycrdGFnKyc+JyA6IGVtcHR5TGFiZWw7XG5cdFx0fVxuXHRcdGZvciAodmFyIGk9MDsgaTxjb3VudDsgaSsrKSB7XG5cdFx0XHQvLyB3cmFwIGVhY2ggdW5pdCBpbiB0YWdcblx0XHRcdGxhYmVsW2ldID0gJzwnK3RhZysnPicrbGFiZWxbaV0rJzwvJyt0YWcrJz4nO1xuXHRcdH1cblx0XHRpZiAoY291bnQgPT09IDEpIHtcblx0XHRcdHJldHVybiBsYWJlbFswXTtcblx0XHR9XG5cblx0XHR2YXIgbGFzdCA9IExBQkVMX0xBU1QrbGFiZWwucG9wKCk7XG5cdFx0cmV0dXJuIGxhYmVsLmpvaW4oTEFCRUxfREVMSU0pK2xhc3Q7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFwcGxpZXMgdGhlIFRpbWVzcGFuIHRvIHRoZSBnaXZlbiBkYXRlXG5cdCAqIFxuXHQgKiBAcGFyYW0ge0RhdGU9fSBkYXRlIHRoZSBkYXRlIHRvIHdoaWNoIHRoZSB0aW1lc3BhbiBpcyBhZGRlZC5cblx0ICogQHJldHVybiB7RGF0ZX1cblx0ICovXG5cdFRpbWVzcGFuLnByb3RvdHlwZS5hZGRUbyA9IGZ1bmN0aW9uKGRhdGUpIHtcblx0XHRyZXR1cm4gYWRkVG9EYXRlKHRoaXMsIGRhdGUpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGb3JtYXRzIHRoZSBlbnRyaWVzIGFzIEVuZ2xpc2ggbGFiZWxzXG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1RpbWVzcGFufSB0c1xuXHQgKiBAcmV0dXJuIHtBcnJheX1cblx0ICovXG5cdGZvcm1hdExpc3QgPSBmdW5jdGlvbih0cykge1xuXHRcdHZhciBsaXN0ID0gW107XG5cblx0XHR2YXIgdmFsdWUgPSB0cy5taWxsZW5uaWE7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRsaXN0LnB1c2goZm9ybWF0dGVyKHZhbHVlLCBMQUJFTF9NSUxMRU5OSUEpKTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9IHRzLmNlbnR1cmllcztcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGxpc3QucHVzaChmb3JtYXR0ZXIodmFsdWUsIExBQkVMX0NFTlRVUklFUykpO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gdHMuZGVjYWRlcztcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGxpc3QucHVzaChmb3JtYXR0ZXIodmFsdWUsIExBQkVMX0RFQ0FERVMpKTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9IHRzLnllYXJzO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0bGlzdC5wdXNoKGZvcm1hdHRlcih2YWx1ZSwgTEFCRUxfWUVBUlMpKTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9IHRzLm1vbnRocztcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGxpc3QucHVzaChmb3JtYXR0ZXIodmFsdWUsIExBQkVMX01PTlRIUykpO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gdHMud2Vla3M7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRsaXN0LnB1c2goZm9ybWF0dGVyKHZhbHVlLCBMQUJFTF9XRUVLUykpO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gdHMuZGF5cztcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGxpc3QucHVzaChmb3JtYXR0ZXIodmFsdWUsIExBQkVMX0RBWVMpKTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9IHRzLmhvdXJzO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0bGlzdC5wdXNoKGZvcm1hdHRlcih2YWx1ZSwgTEFCRUxfSE9VUlMpKTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9IHRzLm1pbnV0ZXM7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRsaXN0LnB1c2goZm9ybWF0dGVyKHZhbHVlLCBMQUJFTF9NSU5VVEVTKSk7XG5cdFx0fVxuXG5cdFx0dmFsdWUgPSB0cy5zZWNvbmRzO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0bGlzdC5wdXNoKGZvcm1hdHRlcih2YWx1ZSwgTEFCRUxfU0VDT05EUykpO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gdHMubWlsbGlzZWNvbmRzO1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0bGlzdC5wdXNoKGZvcm1hdHRlcih2YWx1ZSwgTEFCRUxfTUlMTElTRUNPTkRTKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxpc3Q7XG5cdH07XG5cblx0LyoqXG5cdCAqIEJvcnJvdyBhbnkgdW5kZXJmbG93IHVuaXRzLCBjYXJyeSBhbnkgb3ZlcmZsb3cgdW5pdHNcblx0ICogXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7VGltZXNwYW59IHRzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0b1VuaXRcblx0ICovXG5cdGZ1bmN0aW9uIHJpcHBsZVJvdW5kZWQodHMsIHRvVW5pdCkge1xuXHRcdHN3aXRjaCAodG9Vbml0KSB7XG5cdFx0XHRjYXNlICdzZWNvbmRzJzpcblx0XHRcdFx0aWYgKHRzLnNlY29uZHMgIT09IFNFQ09ORFNfUEVSX01JTlVURSB8fCBpc05hTih0cy5taW51dGVzKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByaXBwbGUgc2Vjb25kcyB1cCB0byBtaW51dGVzXG5cdFx0XHRcdHRzLm1pbnV0ZXMrKztcblx0XHRcdFx0dHMuc2Vjb25kcyA9IDA7XG5cblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnbWludXRlcyc6XG5cdFx0XHRcdGlmICh0cy5taW51dGVzICE9PSBNSU5VVEVTX1BFUl9IT1VSIHx8IGlzTmFOKHRzLmhvdXJzKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByaXBwbGUgbWludXRlcyB1cCB0byBob3Vyc1xuXHRcdFx0XHR0cy5ob3VycysrO1xuXHRcdFx0XHR0cy5taW51dGVzID0gMDtcblxuXHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRjYXNlICdob3Vycyc6XG5cdFx0XHRcdGlmICh0cy5ob3VycyAhPT0gSE9VUlNfUEVSX0RBWSB8fCBpc05hTih0cy5kYXlzKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByaXBwbGUgaG91cnMgdXAgdG8gZGF5c1xuXHRcdFx0XHR0cy5kYXlzKys7XG5cdFx0XHRcdHRzLmhvdXJzID0gMDtcblxuXHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRjYXNlICdkYXlzJzpcblx0XHRcdFx0aWYgKHRzLmRheXMgIT09IERBWVNfUEVSX1dFRUsgfHwgaXNOYU4odHMud2Vla3MpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHJpcHBsZSBkYXlzIHVwIHRvIHdlZWtzXG5cdFx0XHRcdHRzLndlZWtzKys7XG5cdFx0XHRcdHRzLmRheXMgPSAwO1xuXG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJ3dlZWtzJzpcblx0XHRcdFx0aWYgKHRzLndlZWtzICE9PSBkYXlzUGVyTW9udGgodHMucmVmTW9udGgpL0RBWVNfUEVSX1dFRUsgfHwgaXNOYU4odHMubW9udGhzKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByaXBwbGUgd2Vla3MgdXAgdG8gbW9udGhzXG5cdFx0XHRcdHRzLm1vbnRocysrO1xuXHRcdFx0XHR0cy53ZWVrcyA9IDA7XG5cblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnbW9udGhzJzpcblx0XHRcdFx0aWYgKHRzLm1vbnRocyAhPT0gTU9OVEhTX1BFUl9ZRUFSIHx8IGlzTmFOKHRzLnllYXJzKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByaXBwbGUgbW9udGhzIHVwIHRvIHllYXJzXG5cdFx0XHRcdHRzLnllYXJzKys7XG5cdFx0XHRcdHRzLm1vbnRocyA9IDA7XG5cblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAneWVhcnMnOlxuXHRcdFx0XHRpZiAodHMueWVhcnMgIT09IFlFQVJTX1BFUl9ERUNBREUgfHwgaXNOYU4odHMuZGVjYWRlcykpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gcmlwcGxlIHllYXJzIHVwIHRvIGRlY2FkZXNcblx0XHRcdFx0dHMuZGVjYWRlcysrO1xuXHRcdFx0XHR0cy55ZWFycyA9IDA7XG5cblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnZGVjYWRlcyc6XG5cdFx0XHRcdGlmICh0cy5kZWNhZGVzICE9PSBERUNBREVTX1BFUl9DRU5UVVJZIHx8IGlzTmFOKHRzLmNlbnR1cmllcykpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gcmlwcGxlIGRlY2FkZXMgdXAgdG8gY2VudHVyaWVzXG5cdFx0XHRcdHRzLmNlbnR1cmllcysrO1xuXHRcdFx0XHR0cy5kZWNhZGVzID0gMDtcblxuXHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRjYXNlICdjZW50dXJpZXMnOlxuXHRcdFx0XHRpZiAodHMuY2VudHVyaWVzICE9PSBDRU5UVVJJRVNfUEVSX01JTExFTk5JVU0gfHwgaXNOYU4odHMubWlsbGVubmlhKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByaXBwbGUgY2VudHVyaWVzIHVwIHRvIG1pbGxlbm5pYVxuXHRcdFx0XHR0cy5taWxsZW5uaWErKztcblx0XHRcdFx0dHMuY2VudHVyaWVzID0gMDtcblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJpcHBsZSB1cCBwYXJ0aWFsIHVuaXRzIG9uZSBwbGFjZVxuXHQgKiBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtUaW1lc3Bhbn0gdHMgdGltZXNwYW5cblx0ICogQHBhcmFtIHtudW1iZXJ9IGZyYWMgYWNjdW11bGF0ZWQgZnJhY3Rpb25hbCB2YWx1ZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZnJvbVVuaXQgc291cmNlIHVuaXQgbmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdG9Vbml0IHRhcmdldCB1bml0IG5hbWVcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNvbnZlcnNpb24gbXVsdGlwbGllciBiZXR3ZWVuIHVuaXRzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkaWdpdHMgbWF4IG51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cyB0byBvdXRwdXRcblx0ICogQHJldHVybiB7bnVtYmVyfSBuZXcgZnJhY3Rpb25hbCB2YWx1ZVxuXHQgKi9cblx0ZnVuY3Rpb24gZnJhY3Rpb24odHMsIGZyYWMsIGZyb21Vbml0LCB0b1VuaXQsIGNvbnZlcnNpb24sIGRpZ2l0cykge1xuXHRcdGlmICh0c1tmcm9tVW5pdF0gPj0gMCkge1xuXHRcdFx0ZnJhYyArPSB0c1tmcm9tVW5pdF07XG5cdFx0XHRkZWxldGUgdHNbZnJvbVVuaXRdO1xuXHRcdH1cblxuXHRcdGZyYWMgLz0gY29udmVyc2lvbjtcblx0XHRpZiAoZnJhYyArIDEgPD0gMSkge1xuXHRcdFx0Ly8gZHJvcCBpZiBiZWxvdyBtYWNoaW5lIGVwc2lsb25cblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdGlmICh0c1t0b1VuaXRdID49IDApIHtcblx0XHRcdC8vIGVuc3VyZSBkb2VzIG5vdCBoYXZlIG1vcmUgdGhhbiBzcGVjaWZpZWQgbnVtYmVyIG9mIGRpZ2l0c1xuXHRcdFx0dHNbdG9Vbml0XSA9ICsodHNbdG9Vbml0XSArIGZyYWMpLnRvRml4ZWQoZGlnaXRzKTtcblx0XHRcdHJpcHBsZVJvdW5kZWQodHMsIHRvVW5pdCk7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZnJhYztcblx0fVxuXG5cdC8qKlxuXHQgKiBSaXBwbGUgdXAgcGFydGlhbCB1bml0cyB0byBuZXh0IGV4aXN0aW5nXG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1RpbWVzcGFufSB0c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gZGlnaXRzIG1heCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMgdG8gb3V0cHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBmcmFjdGlvbmFsKHRzLCBkaWdpdHMpIHtcblx0XHR2YXIgZnJhYyA9IGZyYWN0aW9uKHRzLCAwLCAnbWlsbGlzZWNvbmRzJywgJ3NlY29uZHMnLCBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCwgZGlnaXRzKTtcblx0XHRpZiAoIWZyYWMpIHsgcmV0dXJuOyB9XG5cblx0XHRmcmFjID0gZnJhY3Rpb24odHMsIGZyYWMsICdzZWNvbmRzJywgJ21pbnV0ZXMnLCBTRUNPTkRTX1BFUl9NSU5VVEUsIGRpZ2l0cyk7XG5cdFx0aWYgKCFmcmFjKSB7IHJldHVybjsgfVxuXG5cdFx0ZnJhYyA9IGZyYWN0aW9uKHRzLCBmcmFjLCAnbWludXRlcycsICdob3VycycsIE1JTlVURVNfUEVSX0hPVVIsIGRpZ2l0cyk7XG5cdFx0aWYgKCFmcmFjKSB7IHJldHVybjsgfVxuXG5cdFx0ZnJhYyA9IGZyYWN0aW9uKHRzLCBmcmFjLCAnaG91cnMnLCAnZGF5cycsIEhPVVJTX1BFUl9EQVksIGRpZ2l0cyk7XG5cdFx0aWYgKCFmcmFjKSB7IHJldHVybjsgfVxuXG5cdFx0ZnJhYyA9IGZyYWN0aW9uKHRzLCBmcmFjLCAnZGF5cycsICd3ZWVrcycsIERBWVNfUEVSX1dFRUssIGRpZ2l0cyk7XG5cdFx0aWYgKCFmcmFjKSB7IHJldHVybjsgfVxuXG5cdFx0ZnJhYyA9IGZyYWN0aW9uKHRzLCBmcmFjLCAnd2Vla3MnLCAnbW9udGhzJywgZGF5c1Blck1vbnRoKHRzLnJlZk1vbnRoKS9EQVlTX1BFUl9XRUVLLCBkaWdpdHMpO1xuXHRcdGlmICghZnJhYykgeyByZXR1cm47IH1cblxuXHRcdGZyYWMgPSBmcmFjdGlvbih0cywgZnJhYywgJ21vbnRocycsICd5ZWFycycsIGRheXNQZXJZZWFyKHRzLnJlZk1vbnRoKS9kYXlzUGVyTW9udGgodHMucmVmTW9udGgpLCBkaWdpdHMpO1xuXHRcdGlmICghZnJhYykgeyByZXR1cm47IH1cblxuXHRcdGZyYWMgPSBmcmFjdGlvbih0cywgZnJhYywgJ3llYXJzJywgJ2RlY2FkZXMnLCBZRUFSU19QRVJfREVDQURFLCBkaWdpdHMpO1xuXHRcdGlmICghZnJhYykgeyByZXR1cm47IH1cblxuXHRcdGZyYWMgPSBmcmFjdGlvbih0cywgZnJhYywgJ2RlY2FkZXMnLCAnY2VudHVyaWVzJywgREVDQURFU19QRVJfQ0VOVFVSWSwgZGlnaXRzKTtcblx0XHRpZiAoIWZyYWMpIHsgcmV0dXJuOyB9XG5cblx0XHRmcmFjID0gZnJhY3Rpb24odHMsIGZyYWMsICdjZW50dXJpZXMnLCAnbWlsbGVubmlhJywgQ0VOVFVSSUVTX1BFUl9NSUxMRU5OSVVNLCBkaWdpdHMpO1xuXG5cdFx0Ly8gc2hvdWxkIG5ldmVyIHJlYWNoIHRoaXMgd2l0aCByZW1haW5pbmcgZnJhY3Rpb25hbCB2YWx1ZVxuXHRcdGlmIChmcmFjKSB7IHRocm93IG5ldyBFcnJvcignRnJhY3Rpb25hbCB1bml0IG92ZXJmbG93Jyk7IH1cblx0fVxuXG5cdC8qKlxuXHQgKiBCb3Jyb3cgYW55IHVuZGVyZmxvdyB1bml0cywgY2FycnkgYW55IG92ZXJmbG93IHVuaXRzXG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1RpbWVzcGFufSB0c1xuXHQgKi9cblx0ZnVuY3Rpb24gcmlwcGxlKHRzKSB7XG5cdFx0dmFyIHg7XG5cblx0XHRpZiAodHMubWlsbGlzZWNvbmRzIDwgMCkge1xuXHRcdFx0Ly8gcmlwcGxlIHNlY29uZHMgZG93biB0byBtaWxsaXNlY29uZHNcblx0XHRcdHggPSBjZWlsKC10cy5taWxsaXNlY29uZHMgLyBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCk7XG5cdFx0XHR0cy5zZWNvbmRzIC09IHg7XG5cdFx0XHR0cy5taWxsaXNlY29uZHMgKz0geCAqIE1JTExJU0VDT05EU19QRVJfU0VDT05EO1xuXG5cdFx0fSBlbHNlIGlmICh0cy5taWxsaXNlY29uZHMgPj0gTUlMTElTRUNPTkRTX1BFUl9TRUNPTkQpIHtcblx0XHRcdC8vIHJpcHBsZSBtaWxsaXNlY29uZHMgdXAgdG8gc2Vjb25kc1xuXHRcdFx0dHMuc2Vjb25kcyArPSBmbG9vcih0cy5taWxsaXNlY29uZHMgLyBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCk7XG5cdFx0XHR0cy5taWxsaXNlY29uZHMgJT0gTUlMTElTRUNPTkRTX1BFUl9TRUNPTkQ7XG5cdFx0fVxuXG5cdFx0aWYgKHRzLnNlY29uZHMgPCAwKSB7XG5cdFx0XHQvLyByaXBwbGUgbWludXRlcyBkb3duIHRvIHNlY29uZHNcblx0XHRcdHggPSBjZWlsKC10cy5zZWNvbmRzIC8gU0VDT05EU19QRVJfTUlOVVRFKTtcblx0XHRcdHRzLm1pbnV0ZXMgLT0geDtcblx0XHRcdHRzLnNlY29uZHMgKz0geCAqIFNFQ09ORFNfUEVSX01JTlVURTtcblxuXHRcdH0gZWxzZSBpZiAodHMuc2Vjb25kcyA+PSBTRUNPTkRTX1BFUl9NSU5VVEUpIHtcblx0XHRcdC8vIHJpcHBsZSBzZWNvbmRzIHVwIHRvIG1pbnV0ZXNcblx0XHRcdHRzLm1pbnV0ZXMgKz0gZmxvb3IodHMuc2Vjb25kcyAvIFNFQ09ORFNfUEVSX01JTlVURSk7XG5cdFx0XHR0cy5zZWNvbmRzICU9IFNFQ09ORFNfUEVSX01JTlVURTtcblx0XHR9XG5cblx0XHRpZiAodHMubWludXRlcyA8IDApIHtcblx0XHRcdC8vIHJpcHBsZSBob3VycyBkb3duIHRvIG1pbnV0ZXNcblx0XHRcdHggPSBjZWlsKC10cy5taW51dGVzIC8gTUlOVVRFU19QRVJfSE9VUik7XG5cdFx0XHR0cy5ob3VycyAtPSB4O1xuXHRcdFx0dHMubWludXRlcyArPSB4ICogTUlOVVRFU19QRVJfSE9VUjtcblxuXHRcdH0gZWxzZSBpZiAodHMubWludXRlcyA+PSBNSU5VVEVTX1BFUl9IT1VSKSB7XG5cdFx0XHQvLyByaXBwbGUgbWludXRlcyB1cCB0byBob3Vyc1xuXHRcdFx0dHMuaG91cnMgKz0gZmxvb3IodHMubWludXRlcyAvIE1JTlVURVNfUEVSX0hPVVIpO1xuXHRcdFx0dHMubWludXRlcyAlPSBNSU5VVEVTX1BFUl9IT1VSO1xuXHRcdH1cblxuXHRcdGlmICh0cy5ob3VycyA8IDApIHtcblx0XHRcdC8vIHJpcHBsZSBkYXlzIGRvd24gdG8gaG91cnNcblx0XHRcdHggPSBjZWlsKC10cy5ob3VycyAvIEhPVVJTX1BFUl9EQVkpO1xuXHRcdFx0dHMuZGF5cyAtPSB4O1xuXHRcdFx0dHMuaG91cnMgKz0geCAqIEhPVVJTX1BFUl9EQVk7XG5cblx0XHR9IGVsc2UgaWYgKHRzLmhvdXJzID49IEhPVVJTX1BFUl9EQVkpIHtcblx0XHRcdC8vIHJpcHBsZSBob3VycyB1cCB0byBkYXlzXG5cdFx0XHR0cy5kYXlzICs9IGZsb29yKHRzLmhvdXJzIC8gSE9VUlNfUEVSX0RBWSk7XG5cdFx0XHR0cy5ob3VycyAlPSBIT1VSU19QRVJfREFZO1xuXHRcdH1cblxuXHRcdHdoaWxlICh0cy5kYXlzIDwgMCkge1xuXHRcdFx0Ly8gTk9URTogbmV2ZXIgYWN0dWFsbHkgc2VlbiB0aGlzIGxvb3AgbW9yZSB0aGFuIG9uY2VcblxuXHRcdFx0Ly8gcmlwcGxlIG1vbnRocyBkb3duIHRvIGRheXNcblx0XHRcdHRzLm1vbnRocy0tO1xuXHRcdFx0dHMuZGF5cyArPSBib3Jyb3dNb250aHModHMucmVmTW9udGgsIDEpO1xuXHRcdH1cblxuXHRcdC8vIHdlZWtzIGlzIGFsd2F5cyB6ZXJvIGhlcmVcblxuXHRcdGlmICh0cy5kYXlzID49IERBWVNfUEVSX1dFRUspIHtcblx0XHRcdC8vIHJpcHBsZSBkYXlzIHVwIHRvIHdlZWtzXG5cdFx0XHR0cy53ZWVrcyArPSBmbG9vcih0cy5kYXlzIC8gREFZU19QRVJfV0VFSyk7XG5cdFx0XHR0cy5kYXlzICU9IERBWVNfUEVSX1dFRUs7XG5cdFx0fVxuXG5cdFx0aWYgKHRzLm1vbnRocyA8IDApIHtcblx0XHRcdC8vIHJpcHBsZSB5ZWFycyBkb3duIHRvIG1vbnRoc1xuXHRcdFx0eCA9IGNlaWwoLXRzLm1vbnRocyAvIE1PTlRIU19QRVJfWUVBUik7XG5cdFx0XHR0cy55ZWFycyAtPSB4O1xuXHRcdFx0dHMubW9udGhzICs9IHggKiBNT05USFNfUEVSX1lFQVI7XG5cblx0XHR9IGVsc2UgaWYgKHRzLm1vbnRocyA+PSBNT05USFNfUEVSX1lFQVIpIHtcblx0XHRcdC8vIHJpcHBsZSBtb250aHMgdXAgdG8geWVhcnNcblx0XHRcdHRzLnllYXJzICs9IGZsb29yKHRzLm1vbnRocyAvIE1PTlRIU19QRVJfWUVBUik7XG5cdFx0XHR0cy5tb250aHMgJT0gTU9OVEhTX1BFUl9ZRUFSO1xuXHRcdH1cblxuXHRcdC8vIHllYXJzIGlzIGFsd2F5cyBub24tbmVnYXRpdmUgaGVyZVxuXHRcdC8vIGRlY2FkZXMsIGNlbnR1cmllcyBhbmQgbWlsbGVubmlhIGFyZSBhbHdheXMgemVybyBoZXJlXG5cblx0XHRpZiAodHMueWVhcnMgPj0gWUVBUlNfUEVSX0RFQ0FERSkge1xuXHRcdFx0Ly8gcmlwcGxlIHllYXJzIHVwIHRvIGRlY2FkZXNcblx0XHRcdHRzLmRlY2FkZXMgKz0gZmxvb3IodHMueWVhcnMgLyBZRUFSU19QRVJfREVDQURFKTtcblx0XHRcdHRzLnllYXJzICU9IFlFQVJTX1BFUl9ERUNBREU7XG5cblx0XHRcdGlmICh0cy5kZWNhZGVzID49IERFQ0FERVNfUEVSX0NFTlRVUlkpIHtcblx0XHRcdFx0Ly8gcmlwcGxlIGRlY2FkZXMgdXAgdG8gY2VudHVyaWVzXG5cdFx0XHRcdHRzLmNlbnR1cmllcyArPSBmbG9vcih0cy5kZWNhZGVzIC8gREVDQURFU19QRVJfQ0VOVFVSWSk7XG5cdFx0XHRcdHRzLmRlY2FkZXMgJT0gREVDQURFU19QRVJfQ0VOVFVSWTtcblxuXHRcdFx0XHRpZiAodHMuY2VudHVyaWVzID49IENFTlRVUklFU19QRVJfTUlMTEVOTklVTSkge1xuXHRcdFx0XHRcdC8vIHJpcHBsZSBjZW50dXJpZXMgdXAgdG8gbWlsbGVubmlhXG5cdFx0XHRcdFx0dHMubWlsbGVubmlhICs9IGZsb29yKHRzLmNlbnR1cmllcyAvIENFTlRVUklFU19QRVJfTUlMTEVOTklVTSk7XG5cdFx0XHRcdFx0dHMuY2VudHVyaWVzICU9IENFTlRVUklFU19QRVJfTUlMTEVOTklVTTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYW55IHVuaXRzIG5vdCByZXF1ZXN0ZWRcblx0ICogXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7VGltZXNwYW59IHRzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB1bml0cyB0aGUgdW5pdHMgdG8gcG9wdWxhdGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IG1heCBudW1iZXIgb2YgbGFiZWxzIHRvIG91dHB1dFxuXHQgKiBAcGFyYW0ge251bWJlcn0gZGlnaXRzIG1heCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMgdG8gb3V0cHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBwcnVuZVVuaXRzKHRzLCB1bml0cywgbWF4LCBkaWdpdHMpIHtcblx0XHR2YXIgY291bnQgPSAwO1xuXG5cdFx0Ly8gQ2FsYyBmcm9tIGxhcmdlc3QgdW5pdCB0byBzbWFsbGVzdCB0byBwcmV2ZW50IHVuZGVyZmxvd1xuXHRcdGlmICghKHVuaXRzICYgTUlMTEVOTklBKSB8fCAoY291bnQgPj0gbWF4KSkge1xuXHRcdFx0Ly8gcmlwcGxlIG1pbGxlbm5pYSBkb3duIHRvIGNlbnR1cmllc1xuXHRcdFx0dHMuY2VudHVyaWVzICs9IHRzLm1pbGxlbm5pYSAqIENFTlRVUklFU19QRVJfTUlMTEVOTklVTTtcblx0XHRcdGRlbGV0ZSB0cy5taWxsZW5uaWE7XG5cblx0XHR9IGVsc2UgaWYgKHRzLm1pbGxlbm5pYSkge1xuXHRcdFx0Y291bnQrKztcblx0XHR9XG5cblx0XHRpZiAoISh1bml0cyAmIENFTlRVUklFUykgfHwgKGNvdW50ID49IG1heCkpIHtcblx0XHRcdC8vIHJpcHBsZSBjZW50dXJpZXMgZG93biB0byBkZWNhZGVzXG5cdFx0XHR0cy5kZWNhZGVzICs9IHRzLmNlbnR1cmllcyAqIERFQ0FERVNfUEVSX0NFTlRVUlk7XG5cdFx0XHRkZWxldGUgdHMuY2VudHVyaWVzO1xuXG5cdFx0fSBlbHNlIGlmICh0cy5jZW50dXJpZXMpIHtcblx0XHRcdGNvdW50Kys7XG5cdFx0fVxuXG5cdFx0aWYgKCEodW5pdHMgJiBERUNBREVTKSB8fCAoY291bnQgPj0gbWF4KSkge1xuXHRcdFx0Ly8gcmlwcGxlIGRlY2FkZXMgZG93biB0byB5ZWFyc1xuXHRcdFx0dHMueWVhcnMgKz0gdHMuZGVjYWRlcyAqIFlFQVJTX1BFUl9ERUNBREU7XG5cdFx0XHRkZWxldGUgdHMuZGVjYWRlcztcblxuXHRcdH0gZWxzZSBpZiAodHMuZGVjYWRlcykge1xuXHRcdFx0Y291bnQrKztcblx0XHR9XG5cblx0XHRpZiAoISh1bml0cyAmIFlFQVJTKSB8fCAoY291bnQgPj0gbWF4KSkge1xuXHRcdFx0Ly8gcmlwcGxlIHllYXJzIGRvd24gdG8gbW9udGhzXG5cdFx0XHR0cy5tb250aHMgKz0gdHMueWVhcnMgKiBNT05USFNfUEVSX1lFQVI7XG5cdFx0XHRkZWxldGUgdHMueWVhcnM7XG5cblx0XHR9IGVsc2UgaWYgKHRzLnllYXJzKSB7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblxuXHRcdGlmICghKHVuaXRzICYgTU9OVEhTKSB8fCAoY291bnQgPj0gbWF4KSkge1xuXHRcdFx0Ly8gcmlwcGxlIG1vbnRocyBkb3duIHRvIGRheXNcblx0XHRcdGlmICh0cy5tb250aHMpIHtcblx0XHRcdFx0dHMuZGF5cyArPSBib3Jyb3dNb250aHModHMucmVmTW9udGgsIHRzLm1vbnRocyk7XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgdHMubW9udGhzO1xuXG5cdFx0XHRpZiAodHMuZGF5cyA+PSBEQVlTX1BFUl9XRUVLKSB7XG5cdFx0XHRcdC8vIHJpcHBsZSBkYXkgb3ZlcmZsb3cgYmFjayB1cCB0byB3ZWVrc1xuXHRcdFx0XHR0cy53ZWVrcyArPSBmbG9vcih0cy5kYXlzIC8gREFZU19QRVJfV0VFSyk7XG5cdFx0XHRcdHRzLmRheXMgJT0gREFZU19QRVJfV0VFSztcblx0XHRcdH1cblxuXHRcdH0gZWxzZSBpZiAodHMubW9udGhzKSB7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblxuXHRcdGlmICghKHVuaXRzICYgV0VFS1MpIHx8IChjb3VudCA+PSBtYXgpKSB7XG5cdFx0XHQvLyByaXBwbGUgd2Vla3MgZG93biB0byBkYXlzXG5cdFx0XHR0cy5kYXlzICs9IHRzLndlZWtzICogREFZU19QRVJfV0VFSztcblx0XHRcdGRlbGV0ZSB0cy53ZWVrcztcblxuXHRcdH0gZWxzZSBpZiAodHMud2Vla3MpIHtcblx0XHRcdGNvdW50Kys7XG5cdFx0fVxuXG5cdFx0aWYgKCEodW5pdHMgJiBEQVlTKSB8fCAoY291bnQgPj0gbWF4KSkge1xuXHRcdFx0Ly9yaXBwbGUgZGF5cyBkb3duIHRvIGhvdXJzXG5cdFx0XHR0cy5ob3VycyArPSB0cy5kYXlzICogSE9VUlNfUEVSX0RBWTtcblx0XHRcdGRlbGV0ZSB0cy5kYXlzO1xuXG5cdFx0fSBlbHNlIGlmICh0cy5kYXlzKSB7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblxuXHRcdGlmICghKHVuaXRzICYgSE9VUlMpIHx8IChjb3VudCA+PSBtYXgpKSB7XG5cdFx0XHQvLyByaXBwbGUgaG91cnMgZG93biB0byBtaW51dGVzXG5cdFx0XHR0cy5taW51dGVzICs9IHRzLmhvdXJzICogTUlOVVRFU19QRVJfSE9VUjtcblx0XHRcdGRlbGV0ZSB0cy5ob3VycztcblxuXHRcdH0gZWxzZSBpZiAodHMuaG91cnMpIHtcblx0XHRcdGNvdW50Kys7XG5cdFx0fVxuXG5cdFx0aWYgKCEodW5pdHMgJiBNSU5VVEVTKSB8fCAoY291bnQgPj0gbWF4KSkge1xuXHRcdFx0Ly8gcmlwcGxlIG1pbnV0ZXMgZG93biB0byBzZWNvbmRzXG5cdFx0XHR0cy5zZWNvbmRzICs9IHRzLm1pbnV0ZXMgKiBTRUNPTkRTX1BFUl9NSU5VVEU7XG5cdFx0XHRkZWxldGUgdHMubWludXRlcztcblxuXHRcdH0gZWxzZSBpZiAodHMubWludXRlcykge1xuXHRcdFx0Y291bnQrKztcblx0XHR9XG5cblx0XHRpZiAoISh1bml0cyAmIFNFQ09ORFMpIHx8IChjb3VudCA+PSBtYXgpKSB7XG5cdFx0XHQvLyByaXBwbGUgc2Vjb25kcyBkb3duIHRvIG1pbGxpc2Vjb25kc1xuXHRcdFx0dHMubWlsbGlzZWNvbmRzICs9IHRzLnNlY29uZHMgKiBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORDtcblx0XHRcdGRlbGV0ZSB0cy5zZWNvbmRzO1xuXG5cdFx0fSBlbHNlIGlmICh0cy5zZWNvbmRzKSB7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblxuXHRcdC8vIG5vdGhpbmcgdG8gcmlwcGxlIG1pbGxpc2Vjb25kcyBkb3duIHRvXG5cdFx0Ly8gc28gcmlwcGxlIGJhY2sgdXAgdG8gc21hbGxlc3QgZXhpc3RpbmcgdW5pdCBhcyBhIGZyYWN0aW9uYWwgdmFsdWVcblx0XHRpZiAoISh1bml0cyAmIE1JTExJU0VDT05EUykgfHwgKGNvdW50ID49IG1heCkpIHtcblx0XHRcdGZyYWN0aW9uYWwodHMsIGRpZ2l0cyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFBvcHVsYXRlcyB0aGUgVGltZXNwYW4gb2JqZWN0XG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1RpbWVzcGFufSB0c1xuXHQgKiBAcGFyYW0gez9EYXRlfSBzdGFydCB0aGUgc3RhcnRpbmcgZGF0ZVxuXHQgKiBAcGFyYW0gez9EYXRlfSBlbmQgdGhlIGVuZGluZyBkYXRlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB1bml0cyB0aGUgdW5pdHMgdG8gcG9wdWxhdGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IG1heCBudW1iZXIgb2YgbGFiZWxzIHRvIG91dHB1dFxuXHQgKiBAcGFyYW0ge251bWJlcn0gZGlnaXRzIG1heCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMgdG8gb3V0cHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBwb3B1bGF0ZSh0cywgc3RhcnQsIGVuZCwgdW5pdHMsIG1heCwgZGlnaXRzKSB7XG5cdFx0dmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cblx0XHR0cy5zdGFydCA9IHN0YXJ0ID0gc3RhcnQgfHwgbm93O1xuXHRcdHRzLmVuZCA9IGVuZCA9IGVuZCB8fCBub3c7XG5cdFx0dHMudW5pdHMgPSB1bml0cztcblxuXHRcdHRzLnZhbHVlID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcblx0XHRpZiAodHMudmFsdWUgPCAwKSB7XG5cdFx0XHQvLyBzd2FwIGlmIHJldmVyc2VkXG5cdFx0XHR2YXIgdG1wID0gZW5kO1xuXHRcdFx0ZW5kID0gc3RhcnQ7XG5cdFx0XHRzdGFydCA9IHRtcDtcblx0XHR9XG5cblx0XHQvLyByZWZlcmVuY2UgbW9udGggZm9yIGRldGVybWluaW5nIGRheXMgaW4gbW9udGhcblx0XHR0cy5yZWZNb250aCA9IG5ldyBEYXRlKHN0YXJ0LmdldEZ1bGxZZWFyKCksIHN0YXJ0LmdldE1vbnRoKCksIDE1LCAxMiwgMCwgMCk7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIHJlc2V0IHRvIGluaXRpYWwgZGVsdGFzXG5cdFx0XHR0cy5taWxsZW5uaWEgPSAwO1xuXHRcdFx0dHMuY2VudHVyaWVzID0gMDtcblx0XHRcdHRzLmRlY2FkZXMgPSAwO1xuXHRcdFx0dHMueWVhcnMgPSBlbmQuZ2V0RnVsbFllYXIoKSAtIHN0YXJ0LmdldEZ1bGxZZWFyKCk7XG5cdFx0XHR0cy5tb250aHMgPSBlbmQuZ2V0TW9udGgoKSAtIHN0YXJ0LmdldE1vbnRoKCk7XG5cdFx0XHR0cy53ZWVrcyA9IDA7XG5cdFx0XHR0cy5kYXlzID0gZW5kLmdldERhdGUoKSAtIHN0YXJ0LmdldERhdGUoKTtcblx0XHRcdHRzLmhvdXJzID0gZW5kLmdldEhvdXJzKCkgLSBzdGFydC5nZXRIb3VycygpO1xuXHRcdFx0dHMubWludXRlcyA9IGVuZC5nZXRNaW51dGVzKCkgLSBzdGFydC5nZXRNaW51dGVzKCk7XG5cdFx0XHR0cy5zZWNvbmRzID0gZW5kLmdldFNlY29uZHMoKSAtIHN0YXJ0LmdldFNlY29uZHMoKTtcblx0XHRcdHRzLm1pbGxpc2Vjb25kcyA9IGVuZC5nZXRNaWxsaXNlY29uZHMoKSAtIHN0YXJ0LmdldE1pbGxpc2Vjb25kcygpO1xuXG5cdFx0XHRyaXBwbGUodHMpO1xuXHRcdFx0cHJ1bmVVbml0cyh0cywgdW5pdHMsIG1heCwgZGlnaXRzKTtcblxuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRkZWxldGUgdHMucmVmTW9udGg7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRzO1xuXHR9XG5cblx0LyoqXG5cdCAqIERldGVybWluZSBhbiBhcHByb3ByaWF0ZSByZWZyZXNoIHJhdGUgYmFzZWQgdXBvbiB1bml0c1xuXHQgKiBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IHVuaXRzIHRoZSB1bml0cyB0byBwb3B1bGF0ZVxuXHQgKiBAcmV0dXJuIHtudW1iZXJ9IG1pbGxpc2Vjb25kcyB0byBkZWxheVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RGVsYXkodW5pdHMpIHtcblx0XHRpZiAodW5pdHMgJiBNSUxMSVNFQ09ORFMpIHtcblx0XHRcdC8vIHJlZnJlc2ggdmVyeSBxdWlja2x5XG5cdFx0XHRyZXR1cm4gTUlMTElTRUNPTkRTX1BFUl9TRUNPTkQgLyAzMDsgLy8zMEh6XG5cdFx0fVxuXG5cdFx0aWYgKHVuaXRzICYgU0VDT05EUykge1xuXHRcdFx0Ly8gcmVmcmVzaCBldmVyeSBzZWNvbmRcblx0XHRcdHJldHVybiBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORDsgLy8xSHpcblx0XHR9XG5cblx0XHRpZiAodW5pdHMgJiBNSU5VVEVTKSB7XG5cdFx0XHQvLyByZWZyZXNoIGV2ZXJ5IG1pbnV0ZVxuXHRcdFx0cmV0dXJuIE1JTExJU0VDT05EU19QRVJfU0VDT05EICogU0VDT05EU19QRVJfTUlOVVRFO1xuXHRcdH1cblxuXHRcdGlmICh1bml0cyAmIEhPVVJTKSB7XG5cdFx0XHQvLyByZWZyZXNoIGhvdXJseVxuXHRcdFx0cmV0dXJuIE1JTExJU0VDT05EU19QRVJfU0VDT05EICogU0VDT05EU19QRVJfTUlOVVRFICogTUlOVVRFU19QRVJfSE9VUjtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHVuaXRzICYgREFZUykge1xuXHRcdFx0Ly8gcmVmcmVzaCBkYWlseVxuXHRcdFx0cmV0dXJuIE1JTExJU0VDT05EU19QRVJfU0VDT05EICogU0VDT05EU19QRVJfTUlOVVRFICogTUlOVVRFU19QRVJfSE9VUiAqIEhPVVJTX1BFUl9EQVk7XG5cdFx0fVxuXG5cdFx0Ly8gcmVmcmVzaCB0aGUgcmVzdCB3ZWVrbHlcblx0XHRyZXR1cm4gTUlMTElTRUNPTkRTX1BFUl9TRUNPTkQgKiBTRUNPTkRTX1BFUl9NSU5VVEUgKiBNSU5VVEVTX1BFUl9IT1VSICogSE9VUlNfUEVSX0RBWSAqIERBWVNfUEVSX1dFRUs7XG5cdH1cblxuXHQvKipcblx0ICogQVBJIGVudHJ5IHBvaW50XG5cdCAqIFxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ8VGltZXNwYW58bnVsbHxmdW5jdGlvbihUaW1lc3BhbixudW1iZXIpfSBzdGFydCB0aGUgc3RhcnRpbmcgZGF0ZVxuXHQgKiBAcGFyYW0ge0RhdGV8bnVtYmVyfFRpbWVzcGFufG51bGx8ZnVuY3Rpb24oVGltZXNwYW4sbnVtYmVyKX0gZW5kIHRoZSBlbmRpbmcgZGF0ZVxuXHQgKiBAcGFyYW0ge251bWJlcj19IHVuaXRzIHRoZSB1bml0cyB0byBwb3B1bGF0ZVxuXHQgKiBAcGFyYW0ge251bWJlcj19IG1heCBudW1iZXIgb2YgbGFiZWxzIHRvIG91dHB1dFxuXHQgKiBAcGFyYW0ge251bWJlcj19IGRpZ2l0cyBtYXggbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzIHRvIG91dHB1dFxuXHQgKiBAcmV0dXJuIHtUaW1lc3BhbnxudW1iZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBjb3VudGRvd24oc3RhcnQsIGVuZCwgdW5pdHMsIG1heCwgZGlnaXRzKSB7XG5cdFx0dmFyIGNhbGxiYWNrO1xuXG5cdFx0Ly8gZW5zdXJlIHNvbWUgdW5pdHMgb3IgdXNlIGRlZmF1bHRzXG5cdFx0dW5pdHMgPSArdW5pdHMgfHwgREVGQVVMVFM7XG5cdFx0Ly8gbWF4IG11c3QgYmUgcG9zaXRpdmVcblx0XHRtYXggPSAobWF4ID4gMCkgPyBtYXggOiBOYU47XG5cdFx0Ly8gY2xhbXAgZGlnaXRzIHRvIGFuIGludGVnZXIgYmV0d2VlbiBbMCwgMjBdXG5cdFx0ZGlnaXRzID0gKGRpZ2l0cyA+IDApID8gKGRpZ2l0cyA8IDIwKSA/IE1hdGgucm91bmQoZGlnaXRzKSA6IDIwIDogMDtcblxuXHRcdC8vIGVuc3VyZSBzdGFydCBkYXRlXG5cdFx0dmFyIHN0YXJ0VFMgPSBudWxsO1xuXHRcdGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2Ygc3RhcnQpIHtcblx0XHRcdGNhbGxiYWNrID0gc3RhcnQ7XG5cdFx0XHRzdGFydCA9IG51bGw7XG5cblx0XHR9IGVsc2UgaWYgKCEoc3RhcnQgaW5zdGFuY2VvZiBEYXRlKSkge1xuXHRcdFx0aWYgKChzdGFydCAhPT0gbnVsbCkgJiYgaXNGaW5pdGUoc3RhcnQpKSB7XG5cdFx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoK3N0YXJ0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgnb2JqZWN0JyA9PT0gdHlwZW9mIHN0YXJ0VFMpIHtcblx0XHRcdFx0XHRzdGFydFRTID0gLyoqIEB0eXBle1RpbWVzcGFufSAqLyhzdGFydCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RhcnQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGVuc3VyZSBlbmQgZGF0ZVxuXHRcdHZhciBlbmRUUyA9IG51bGw7XG5cdFx0aWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBlbmQpIHtcblx0XHRcdGNhbGxiYWNrID0gZW5kO1xuXHRcdFx0ZW5kID0gbnVsbDtcblxuXHRcdH0gZWxzZSBpZiAoIShlbmQgaW5zdGFuY2VvZiBEYXRlKSkge1xuXHRcdFx0aWYgKChlbmQgIT09IG51bGwpICYmIGlzRmluaXRlKGVuZCkpIHtcblx0XHRcdFx0ZW5kID0gbmV3IERhdGUoK2VuZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoJ29iamVjdCcgPT09IHR5cGVvZiBlbmQpIHtcblx0XHRcdFx0XHRlbmRUUyA9IC8qKiBAdHlwZXtUaW1lc3Bhbn0gKi8oZW5kKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbmQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG11c3Qgd2FpdCB0byBpbnRlcnByZXQgdGltZXNwYW5zIHVudGlsIGFmdGVyIHJlc29sdmluZyBkYXRlc1xuXHRcdGlmIChzdGFydFRTKSB7XG5cdFx0XHRzdGFydCA9IGFkZFRvRGF0ZShzdGFydFRTLCBlbmQpO1xuXHRcdH1cblx0XHRpZiAoZW5kVFMpIHtcblx0XHRcdGVuZCA9IGFkZFRvRGF0ZShlbmRUUywgc3RhcnQpO1xuXHRcdH1cblxuXHRcdGlmICghc3RhcnQgJiYgIWVuZCkge1xuXHRcdFx0Ly8gdXNlZCBmb3IgdW5pdCB0ZXN0aW5nXG5cdFx0XHRyZXR1cm4gbmV3IFRpbWVzcGFuKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFjYWxsYmFjaykge1xuXHRcdFx0cmV0dXJuIHBvcHVsYXRlKG5ldyBUaW1lc3BhbigpLCAvKiogQHR5cGV7RGF0ZX0gKi8oc3RhcnQpLCAvKiogQHR5cGV7RGF0ZX0gKi8oZW5kKSwgLyoqIEB0eXBle251bWJlcn0gKi8odW5pdHMpLCAvKiogQHR5cGV7bnVtYmVyfSAqLyhtYXgpLCAvKiogQHR5cGV7bnVtYmVyfSAqLyhkaWdpdHMpKTtcblx0XHR9XG5cblx0XHQvLyBiYXNlIGRlbGF5IG9mZiB1bml0c1xuXHRcdHZhciBkZWxheSA9IGdldERlbGF5KHVuaXRzKSxcblx0XHRcdHRpbWVySWQsXG5cdFx0XHRmbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjayhcblx0XHRcdFx0XHRwb3B1bGF0ZShuZXcgVGltZXNwYW4oKSwgLyoqIEB0eXBle0RhdGV9ICovKHN0YXJ0KSwgLyoqIEB0eXBle0RhdGV9ICovKGVuZCksIC8qKiBAdHlwZXtudW1iZXJ9ICovKHVuaXRzKSwgLyoqIEB0eXBle251bWJlcn0gKi8obWF4KSwgLyoqIEB0eXBle251bWJlcn0gKi8oZGlnaXRzKSksXG5cdFx0XHRcdFx0dGltZXJJZFxuXHRcdFx0XHQpO1xuXHRcdFx0fTtcblxuXHRcdGZuKCk7XG5cdFx0cmV0dXJuICh0aW1lcklkID0gc2V0SW50ZXJ2YWwoZm4sIGRlbGF5KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdGNvdW50ZG93bi5NSUxMSVNFQ09ORFMgPSBNSUxMSVNFQ09ORFM7XG5cblx0LyoqXG5cdCAqIEBwdWJsaWNcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHRjb3VudGRvd24uU0VDT05EUyA9IFNFQ09ORFM7XG5cblx0LyoqXG5cdCAqIEBwdWJsaWNcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHRjb3VudGRvd24uTUlOVVRFUyA9IE1JTlVURVM7XG5cblx0LyoqXG5cdCAqIEBwdWJsaWNcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHRjb3VudGRvd24uSE9VUlMgPSBIT1VSUztcblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdGNvdW50ZG93bi5EQVlTID0gREFZUztcblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdGNvdW50ZG93bi5XRUVLUyA9IFdFRUtTO1xuXG5cdC8qKlxuXHQgKiBAcHVibGljXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0Y291bnRkb3duLk1PTlRIUyA9IE1PTlRIUztcblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdGNvdW50ZG93bi5ZRUFSUyA9IFlFQVJTO1xuXG5cdC8qKlxuXHQgKiBAcHVibGljXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0Y291bnRkb3duLkRFQ0FERVMgPSBERUNBREVTO1xuXG5cdC8qKlxuXHQgKiBAcHVibGljXG5cdCAqIEBjb25zdFxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKi9cblx0Y291bnRkb3duLkNFTlRVUklFUyA9IENFTlRVUklFUztcblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdGNvdW50ZG93bi5NSUxMRU5OSUEgPSBNSUxMRU5OSUE7XG5cblx0LyoqXG5cdCAqIEBwdWJsaWNcblx0ICogQGNvbnN0XG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqL1xuXHRjb3VudGRvd24uREVGQVVMVFMgPSBERUZBVUxUUztcblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAY29uc3Rcblx0ICogQHR5cGUge251bWJlcn1cblx0ICovXG5cdGNvdW50ZG93bi5BTEwgPSBNSUxMRU5OSUF8Q0VOVFVSSUVTfERFQ0FERVN8WUVBUlN8TU9OVEhTfFdFRUtTfERBWVN8SE9VUlN8TUlOVVRFU3xTRUNPTkRTfE1JTExJU0VDT05EUztcblxuXHQvKipcblx0ICogQ3VzdG9taXplIHRoZSBmb3JtYXQgc2V0dGluZ3MuXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtPYmplY3R9IGZvcm1hdCBzZXR0aW5ncyBvYmplY3Rcblx0ICovXG5cdHZhciBzZXRGb3JtYXQgPSBjb3VudGRvd24uc2V0Rm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0KSB7XG5cdFx0aWYgKCFmb3JtYXQpIHsgcmV0dXJuOyB9XG5cblx0XHRpZiAoJ3Npbmd1bGFyJyBpbiBmb3JtYXQgfHwgJ3BsdXJhbCcgaW4gZm9ybWF0KSB7XG5cdFx0XHR2YXIgc2luZ3VsYXIgPSBmb3JtYXQuc2luZ3VsYXIgfHwgW107XG5cdFx0XHRpZiAoc2luZ3VsYXIuc3BsaXQpIHtcblx0XHRcdFx0c2luZ3VsYXIgPSBzaW5ndWxhci5zcGxpdCgnfCcpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHBsdXJhbCA9IGZvcm1hdC5wbHVyYWwgfHwgW107XG5cdFx0XHRpZiAocGx1cmFsLnNwbGl0KSB7XG5cdFx0XHRcdHBsdXJhbCA9IHBsdXJhbC5zcGxpdCgnfCcpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKHZhciBpPUxBQkVMX01JTExJU0VDT05EUzsgaTw9TEFCRUxfTUlMTEVOTklBOyBpKyspIHtcblx0XHRcdFx0Ly8gb3ZlcnJpZGUgYW55IHNwZWNpZmllZCB1bml0c1xuXHRcdFx0XHRMQUJFTFNfU0lOR0xVQVJbaV0gPSBzaW5ndWxhcltpXSB8fCBMQUJFTFNfU0lOR0xVQVJbaV07XG5cdFx0XHRcdExBQkVMU19QTFVSQUxbaV0gPSBwbHVyYWxbaV0gfHwgTEFCRUxTX1BMVVJBTFtpXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBmb3JtYXQubGFzdCkge1xuXHRcdFx0TEFCRUxfTEFTVCA9IGZvcm1hdC5sYXN0O1xuXHRcdH1cblx0XHRpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBmb3JtYXQuZGVsaW0pIHtcblx0XHRcdExBQkVMX0RFTElNID0gZm9ybWF0LmRlbGltO1xuXHRcdH1cblx0XHRpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBmb3JtYXQuZW1wdHkpIHtcblx0XHRcdExBQkVMX05PVyA9IGZvcm1hdC5lbXB0eTtcblx0XHR9XG5cdFx0aWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmb3JtYXQuZm9ybWF0TnVtYmVyKSB7XG5cdFx0XHRmb3JtYXROdW1iZXIgPSBmb3JtYXQuZm9ybWF0TnVtYmVyO1xuXHRcdH1cblx0XHRpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdC5mb3JtYXR0ZXIpIHtcblx0XHRcdGZvcm1hdHRlciA9IGZvcm1hdC5mb3JtYXR0ZXI7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXZlcnQgdG8gdGhlIGRlZmF1bHQgZm9ybWF0dGluZy5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0dmFyIHJlc2V0Rm9ybWF0ID0gY291bnRkb3duLnJlc2V0Rm9ybWF0ID0gZnVuY3Rpb24oKSB7XG5cdFx0TEFCRUxTX1NJTkdMVUFSID0gJyBtaWxsaXNlY29uZHwgc2Vjb25kfCBtaW51dGV8IGhvdXJ8IGRheXwgd2Vla3wgbW9udGh8IHllYXJ8IGRlY2FkZXwgY2VudHVyeXwgbWlsbGVubml1bScuc3BsaXQoJ3wnKTtcblx0XHRMQUJFTFNfUExVUkFMID0gJyBtaWxsaXNlY29uZHN8IHNlY29uZHN8IG1pbnV0ZXN8IGhvdXJzfCBkYXlzfCB3ZWVrc3wgbW9udGhzfCB5ZWFyc3wgZGVjYWRlc3wgY2VudHVyaWVzfCBtaWxsZW5uaWEnLnNwbGl0KCd8Jyk7XG5cdFx0TEFCRUxfTEFTVCA9ICcgYW5kICc7XG5cdFx0TEFCRUxfREVMSU0gPSAnLCAnO1xuXHRcdExBQkVMX05PVyA9ICcnO1xuXHRcdGZvcm1hdE51bWJlciA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblx0XHRmb3JtYXR0ZXIgPSBwbHVyYWxpdHk7XG5cdH07XG5cblx0LyoqXG5cdCAqIE92ZXJyaWRlIHRoZSB1bml0IGxhYmVscy5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge3N0cmluZ3xBcnJheT19IHNpbmd1bGFyIGEgcGlwZSAoJ3wnKSBkZWxpbWl0ZWQgbGlzdCBvZiBzaW5ndWxhciB1bml0IG5hbWUgb3ZlcnJpZGVzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PX0gcGx1cmFsIGEgcGlwZSAoJ3wnKSBkZWxpbWl0ZWQgbGlzdCBvZiBwbHVyYWwgdW5pdCBuYW1lIG92ZXJyaWRlc1xuXHQgKiBAcGFyYW0ge3N0cmluZz19IGxhc3QgYSBkZWxpbWl0ZXIgYmVmb3JlIHRoZSBsYXN0IHVuaXQgKGRlZmF1bHQ6ICcgYW5kICcpXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gZGVsaW0gYSBkZWxpbWl0ZXIgdG8gdXNlIGJldHdlZW4gYWxsIG90aGVyIHVuaXRzIChkZWZhdWx0OiAnLCAnKVxuXHQgKiBAcGFyYW0ge3N0cmluZz19IGVtcHR5IGEgbGFiZWwgdG8gdXNlIHdoZW4gYWxsIHVuaXRzIGFyZSB6ZXJvIChkZWZhdWx0OiAnJylcblx0ICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIpOnN0cmluZz19IGZvcm1hdE51bWJlciBhIGZ1bmN0aW9uIHdoaWNoIGZvcm1hdHMgbnVtYmVycyBhcyBhIHN0cmluZ1xuXHQgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlcixudW1iZXIpOnN0cmluZz19IGZvcm1hdHRlciBhIGZ1bmN0aW9uIHdoaWNoIGZvcm1hdHMgYSBudW1iZXIvdW5pdCBwYWlyIGFzIGEgc3RyaW5nXG5cdCAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMi42LjBcblx0ICovXG5cdGNvdW50ZG93bi5zZXRMYWJlbHMgPSBmdW5jdGlvbihzaW5ndWxhciwgcGx1cmFsLCBsYXN0LCBkZWxpbSwgZW1wdHksIGZvcm1hdE51bWJlciwgZm9ybWF0dGVyKSB7XG5cdFx0c2V0Rm9ybWF0KHtcblx0XHRcdHNpbmd1bGFyOiBzaW5ndWxhcixcblx0XHRcdHBsdXJhbDogcGx1cmFsLFxuXHRcdFx0bGFzdDogbGFzdCxcblx0XHRcdGRlbGltOiBkZWxpbSxcblx0XHRcdGVtcHR5OiBlbXB0eSxcblx0XHRcdGZvcm1hdE51bWJlcjogZm9ybWF0TnVtYmVyLFxuXHRcdFx0Zm9ybWF0dGVyOiBmb3JtYXR0ZXJcblx0XHR9KTtcblx0fTtcblxuXHQvKipcblx0ICogUmV2ZXJ0IHRvIHRoZSBkZWZhdWx0IHVuaXQgbGFiZWxzLlxuXHQgKiBAcHVibGljXG5cdCAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMi42LjBcblx0ICovXG5cdGNvdW50ZG93bi5yZXNldExhYmVscyA9IHJlc2V0Rm9ybWF0O1xuXG5cdHJlc2V0Rm9ybWF0KCk7XG5cblx0aWYgKG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY291bnRkb3duO1xuXG5cdH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5kZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHdpbmRvdy5kZWZpbmUuYW1kICE9PSAndW5kZWZpbmVkJykge1xuXHRcdHdpbmRvdy5kZWZpbmUoJ2NvdW50ZG93bicsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBjb3VudGRvd247XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gY291bnRkb3duO1xuXG59KShtb2R1bGUpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/countdown/countdown.js\n");

/***/ }),

/***/ 0:
/*!*******************************************************!*\
  !*** multi ./assets/scss/app.scss ./assets/js/app.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ./assets/scss/app.scss */"./assets/scss/app.scss");
module.exports = __webpack_require__(/*! ./assets/js/app.js */"./assets/js/app.js");


/***/ })

/******/ });